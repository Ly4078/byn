webpackJsonp([1],{"+WBd":function(e,t){},"+cgv":function(e,t){},"0Npw":function(e,t){},"2YW8":function(e,t){},"3f40":function(e,t){},"4qOc":function(e,t){},"5Esm":function(e,t){},"66YK":function(e,t){},"991W":function(e,t){},"9bx5":function(e,t,a){e.exports=a.p+"static/img/welcome.85567a9.jpg"},ALOr:function(e,t){},Ai2Q:function(e,t){},BbT8:function(e,t,a){e.exports=a.p+"static/img/jianshezhong.2e6f103.jpg"},DA9M:function(e,t){},F3CK:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA0AAAAKCAYAAABv7tTEAAAAJElEQVQokWPcd+DYfwYSAROpGhgYGBhYGBgYGOlm06ifyLUJAHiEBV+xwVWtAAAAAElFTkSuQmCC"},Gf7y:function(e,t){},K30a:function(e,t,a){e.exports=a.p+"static/img/timgs.147bdd5.png"},NHnr:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=a("7+uW"),r={name:"App",data:function(){return{clientHeight:"600px",mainHeight:"800px",tableHeight:"732px",tableHeight2:"770px"}},mounted:function(){this.init(),this.clientHeight=document.documentElement.clientHeight+"px";var e=this;window.onresize=function(){e.clientHeight=document.documentElement.clientHeight+"px",e.mainHeight=.86*document.documentElement.clientHeight+"px",e.tableHeight=.925*document.documentElement.clientHeight-140+"px",e.tableHeight2=.84*document.documentElement.clientHeight+"px"}},watch:{clientHeight:function(){this.$store.commit("setClientHeight",this.clientHeight)},mainHeight:function(){this.$store.commit("setMainHeight",this.mainHeight)},tableHeight:function(){this.$store.commit("setTableHeight",this.tableHeight)},tableHeight2:function(){this.$store.commit("setTableHeight2",this.tableHeight2)},"this.$store.state.token":{handler:function(){console.log("app_token:",this.$store.state.token),this.init()}}},methods:{init:function(){this.$store.state.token||this.$router.push({name:""}),this.$store.commit("setClientHeight",this.clientHeight),this.$store.commit("setMainHeight",this.mainHeight),this.$store.commit("setTableHeight",this.tableHeight),this.$store.commit("setTableHeight2",this.tableHeight2)}},created:function(){this.init()}},i={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("router-view")],1)},staticRenderFns:[]};var n=a("VU/8")(r,i,!1,function(e){a("c9PK")},null,null).exports,s=a("/ocq"),o={name:"Login",data:function(){return{ruleForm:{username:"",password:""},rules:{username:[{required:!0,message:"请输入用户名",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}]}}},methods:{handtoken:function(){this.$store.commit("setToken",this.msg)},submitForm:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return console.log("error submit!!"),!1;t.login()})},login:function(){var e=this,t="login?username="+this.ruleForm.username+"&password="+this.ruleForm.password;this.ruleForm.username,this.ruleForm.password;this.$http.post(t).then(function(t){200==t.status?(e.$store.commit("setUserInfo",t.data),e.$router.push({path:"/Home",params:{}})):e.$message({message:t.response.data,duration:5e3,showClose:!0,type:"error"})})},fullScreen:function(){void 0!==document.fullScreenElement&&null===document.fullScreenElement||void 0!==document.msFullscreenElement&&null===document.msFullscreenElement||void 0!==document.mozFullScreen&&!document.mozFullScreen||void 0!==document.webkitIsFullScreen&&!document.webkitIsFullScreen?document.documentElement.requestFullScreen?document.documentElement.requestFullScreen():document.documentElement.mozRequestFullScreen?document.documentElement.mozRequestFullScreen():document.documentElement.webkitRequestFullScreen?document.documentElement.webkitRequestFullScreen(Element.ALLOW_KEYBOARD_INPUT):document.documentElement.msRequestFullscreen&&document.documentElement.msRequestFullscreen():document.cancelFullScreen?document.cancelFullScreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitCancelFullScreen?document.webkitCancelFullScreen():document.msExitFullscreen&&document.msExitFullscreen()}}},u={render:function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("div",{staticClass:"login"},[l("img",{staticClass:"logo_icon",attrs:{src:a("iQH9"),alt:"logo"}}),e._v(" "),l("img",{staticClass:"loginbj",attrs:{src:a("vF8b"),alt:""}}),e._v(" "),e._m(0),e._v(" "),l("div",{staticClass:"login_box"},[l("div",{staticClass:"box-title"},[e._v("用户登录")]),e._v(" "),l("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"0"}},[l("el-form-item",{attrs:{label:"",prop:"username"}},[l("el-input",{attrs:{maxlength:"11",autofocus:!0,placeholder:"用户名",clearable:""},model:{value:e.ruleForm.username,callback:function(t){e.$set(e.ruleForm,"username",e._n(t))},expression:"ruleForm.username"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"",prop:"password"}},[l("el-input",{attrs:{maxlength:"32",placeholder:"登录密码","show-password":"",type:"password"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.submitForm("ruleForm")}},model:{value:e.ruleForm.password,callback:function(t){e.$set(e.ruleForm,"password",t)},expression:"ruleForm.password"}})],1),e._v(" "),l("el-form-item",[l("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("ruleForm")}}},[e._v("登录")])],1)],1)],1),e._v(" "),e._m(1)])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"legend"},[t("p",[this._v("游龙戏凤-运营管理平台")]),this._v(" "),t("p",[this._v("从操作性考虑，提供更加方便的操作页面")]),this._v(" "),t("p",[this._v("从效率性考虑，支持更快的业务处理")]),this._v(" "),t("p",[this._v("从安全性考虑，让每一次操作更安全放心")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",{staticClass:"loginbut"},[t("a",{attrs:{href:"#"}},[this._v("关于我们")]),this._v(" "),t("a",{attrs:{href:"#"}},[this._v("法律声明及隐私政策")]),this._v(" "),t("a",{attrs:{href:"#"}},[this._v("友情链接")]),this._v(" "),t("a",{attrs:{href:"#"}},[this._v("© 2019-2017 后台管理系统 版权所有 ICP证：沪B2-20080101")])])}]};var c=a("VU/8")(o,u,!1,function(e){a("DA9M")},null,null).exports,m={name:"home",data:function(){return{menulist:[]}},methods:{getmenulist:function(){var e=this;this.$http.get("menu").then(function(t){for(var a in t.data.sort(function(e,t){return e.sort<t.sort?-1:e.sort>t.sort?1:0}),t.data)t.data[a].child.sort(function(e,t){return e.sort<t.sort?-1:e.sort>t.sort?1:0});e.menulist=t.data})},handitems:function(e){this.$router.push("/"+e.url)},handleOpen:function(e,t){},handleClose:function(e,t){},handleCommand:function(e){this.$store.commit("setUserInfo",{}),this.$store.commit("setshopInfo",{}),this.$store.commit("setToken",""),localStorage.setItem("TOKEN",""),this.$router.push({name:"Login"})}},created:function(){this.getmenulist()}},d={render:function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("div",{staticClass:"home"},[l("el-container",{attrs:{justify:"center"}},[l("el-header",[l("div",{staticClass:"title"},[l("img",{attrs:{src:a("K30a"),alt:"管理员头像"}}),e._v("\n        管理控制台\n      ")]),e._v(" "),l("div",{staticClass:"info"},[l("span",{staticClass:"el-dropdown-link"},[e._v(e._s(this.$store.state.userInfo.trueName))]),e._v(" "),l("span",{staticClass:"command",on:{click:e.handleCommand}},[e._v("退出登录")])])]),e._v(" "),l("el-container",[l("el-aside",{attrs:{width:"220px"}},[l("el-menu",{staticClass:"el-menu-vertical-demo",attrs:{"default-active":"1","background-color":"#2f323e","active-text-color":"#007eff","text-color":"#fff","unique-opened":!0},on:{open:e.handleOpen,close:e.handleClose}},e._l(e.menulist,function(t){return l("el-submenu",{key:t.id,attrs:{index:t.id}},[l("template",{slot:"title"},[l("img",{attrs:{src:a("F3CK"),alt:""}}),e._v(" "),l("span",[e._v(e._s(t.name))])]),e._v(" "),t.child?l("el-menu-item-group",e._l(t.child,function(t){return l("el-menu-item",{key:t.id,attrs:{index:t.id},on:{click:function(a){return e.handitems(t)}}},[e._v(e._s(t.name))])}),1):e._e()],2)}),1)],1),e._v(" "),l("el-container",[l("el-main",[l("router-view",{style:{height:this.$store.state.mainHeight}}),e._v(" "),l("p",[e._v("©版权所有-比翼鸟系统")])],1)],1)],1)],1)],1)},staticRenderFns:[]};var h=a("VU/8")(m,d,!1,function(e){a("5Esm")},null,null).exports,p=a("hpgx"),g={name:"perlist",data:function(){return{total:0,disval:1,pageNum:1,pageSize:15,roleName:"",loading:!1,DialogVisible:!1,centerDialogVisible:!1,checkList:[],rolemenulist:[],permissionlist:[],ruleobj:{},actuserobj:{},ruleForm:{id:"",name:"",code:"",remark:""},rules:{name:[{required:!0,message:"请输入角色名称",trigger:"blur"}],code:[{required:!0,message:"请输入角色code",trigger:"blur"}],remark:[{required:!0,message:"请输入角色说明",trigger:"blur"}]}}},watch:{centerDialogVisible:function(){if(!this.centerDialogVisible){for(var e in this.ruleForm)this.ruleForm[e]="";this.actuserobj={}}}},methods:{getrole:function(e){var t=this;1==e&&(this.pageNum=1);var a="role?pageNum="+this.pageNum+"&pageSize="+this.pageSize;this.roleName&&(a+="&name="+this.roleName),this.loading=!0,this.$http.get(a).then(function(e){t.loading=!1,t.roleName="",t.total=e.data.total,e.data.total<1?(t.$message("没有查询到相关数据信息"),t.permissionlist=[]):t.permissionlist=e.data.data})},handleCurrentChange:function(e){this.pageNum=e,this.getrole()},handleSizeChange:function(e){this.pageSize=e,this.getrole()},openDialog:function(e){this.disval=e,this.centerDialogVisible=!0},handleedit:function(e){this.actuserobj=e,this.getidinfo(e.id),this.openDialog(2)},handleCheckedCitiesChange:function(e){this.checkList.length>0&&this.putrolemenu()},getidinfo:function(e){var t=this;this.$http.get("role/"+e).then(function(e){var a=e.data;for(var l in a.remark=a.remark?a.remark:"",a)t.ruleForm[l]=a[l]})},handlemenu:function(e){this.checkList=[],this.DialogVisible=!0,this.ruleobj=e,this.getrolemenu(e)},getrolemenu:function(e){var t=this;this.$http.get("role/menu/"+e.id).then(function(e){var a=e.data;for(var l in a)for(var r in a[l].child)1==a[l].child[r].status&&t.checkList.push(a[l].child[r].id);t.rolemenulist=a})},putrolemenu:function(){var e=this,t={roleId:this.ruleobj.id,permission:this.checkList};this.$http.put("role/menu",t).then(function(t){200==t.status&&e.$message.success("保存成功！")})},handledel:function(e){var t=this;this.$confirm("是否确定删除此数据?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.$http.delete("role/"+e.id).then(function(e){t.$message.success("删除操作成功！"),t.getrole()})}).catch(function(){t.$message({type:"info",message:"已取消删除"})})},submitForm:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return console.log("error submit!!"),!1;t.savedata()})},resetForm:function(e){this.actuserobj&&this.actuserobj.id?this.getidinfo(this.actuserobj.id):this.$refs[e].resetFields()},savedata:function(){var e=this,t={};for(var a in this.ruleForm)this.ruleForm[a]&&(t[a]=this.ruleForm[a]);1==this.disval?this.$http.post("role",t).then(function(t){200==t.status&&(e.$message.success("保存成功"),e.centerDialogVisible=!e.centerDialogVisible,e.getrole())}):2==this.disval&&this.$http.put("role",t).then(function(t){200==t.status&&(e.$message.success("保存成功"),e.centerDialogVisible=!e.centerDialogVisible,e.getrole())})}},created:function(){this.getrole()}},f={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"role_list mainboss"},[a("div",{staticClass:"martop"},[a("div",{staticClass:"topleft"},[a("el-input",{attrs:{placeholder:"请输入角色名称",clearable:""},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.getrole(1)}},model:{value:e.roleName,callback:function(t){e.roleName=t},expression:"roleName"}}),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.getrole(1)}}},[e._v("搜索")])],1),e._v(" "),a("div",{staticClass:"topright"},[a("el-button",{attrs:{type:"primary",icon:"el-icon-plus"},on:{click:function(t){return e.openDialog(1)}}},[e._v("创建角色")])],1)]),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:e.permissionlist,height:this.$store.state.tableHeight,border:"","element-loading-background":"rgba(0, 0, 0, 0.5)","element-loading-text":"数据正在加载中"}},[a("el-table-column",{attrs:{prop:"name",align:"center",label:"角色名称"}}),e._v(" "),a("el-table-column",{attrs:{prop:"code",align:"center",label:"角色代码"}}),e._v(" "),a("el-table-column",{attrs:{prop:"remark",align:"center",label:"角色说明"}}),e._v(" "),a("el-table-column",{attrs:{fixed:"right",label:"操作",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"primary",size:"mini",icon:"el-icon-edit"},on:{click:function(a){return e.handleedit(t.row)}}},[e._v("编辑")]),e._v(" "),a("el-button",{attrs:{type:"primary",size:"mini",icon:"el-icon-tickets"},on:{click:function(a){return e.handlemenu(t.row)}}},[e._v("菜单")])]}}])})],1),e._v(" "),a("span",{staticClass:"pagein"},[a("el-pagination",{attrs:{layout:"total, sizes, prev, pager, next, jumper","page-sizes":[15,30,50,100],"page-size":10,total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1),e._v(" "),a("el-dialog",{attrs:{title:1==e.disval?"创建角色":"编辑角色",visible:e.centerDialogVisible,"modal-append-to-body":!1,width:"50%",center:""},on:{"update:visible":function(t){e.centerDialogVisible=t}}},[a("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"角色名称",prop:"name"}},[a("el-input",{attrs:{maxlength:"255",clearable:""},model:{value:e.ruleForm.name,callback:function(t){e.$set(e.ruleForm,"name",t)},expression:"ruleForm.name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"角色code",prop:"code"}},[a("el-input",{attrs:{maxlength:"255",clearable:""},model:{value:e.ruleForm.code,callback:function(t){e.$set(e.ruleForm,"code",t)},expression:"ruleForm.code"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"角色说明",prop:"remark"}},[a("el-input",{attrs:{maxlength:"255",clearable:""},model:{value:e.ruleForm.remark,callback:function(t){e.$set(e.ruleForm,"remark",t)},expression:"ruleForm.remark"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("ruleForm")}}},[e._v("确认保存")]),e._v(" "),a("el-button",{on:{click:function(t){return e.resetForm("ruleForm")}}},[e._v("表单重置")])],1)],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"分配菜单",visible:e.DialogVisible,"modal-append-to-body":!1,width:"50%",center:""},on:{"update:visible":function(t){e.DialogVisible=t}}},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.rolemenulist,border:"",stripe:""}},[a("el-table-column",{attrs:{prop:"name",align:"center",label:"一级菜单",width:"100%"}}),e._v(" "),a("el-table-column",{attrs:{label:"二级菜单"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-checkbox-group",{on:{change:e.handleCheckedCitiesChange},model:{value:e.checkList,callback:function(t){e.checkList=t},expression:"checkList"}},e._l(t.row.child,function(t){return a("el-checkbox",{key:t.id,attrs:{label:t.id}},[e._v(e._s(t.name))])}),1)]}}])})],1)],1)],1)},staticRenderFns:[]};var v=a("VU/8")(g,f,!1,function(e){a("Xp0D")},"data-v-4e12ddfa",null).exports,b={name:"perlist",data:function(){return{total:0,ptotal:0,disval:1,pageNum:1,pageSize:15,PermissionName:"",loading:!1,centerDialogVisible:!1,actuserobj:{},ruleForm:{id:"",name:"",url:"",skey:"",sort:"",parentKey:""},rules:{name:[{required:!0,message:"请输入权限名称",trigger:"blur"}],url:[{required:!0,message:"请输入权限地址(URL)",trigger:"blur"}],skey:[{required:!0,message:"请输入权限KEY",trigger:"blur"}],sort:[{required:!0,message:"请输入排序",trigger:"blur"}]},permissionlist:[],paginationlist:[]}},watch:{centerDialogVisible:function(){if(!this.centerDialogVisible){for(var e in this.ruleForm)this.ruleForm[e]="";this.actuserobj={}}}},methods:{getpermission:function(e){var t=this;1==e&&(this.pageNum=1);var a="permission?pageNum="+this.pageNum+"&pageSize="+this.pageSize;this.PermissionName&&(a+="&name="+this.PermissionName),this.loading=!0,this.$http.get(a).then(function(e){if(t.loading=!1,t.PermissionName="",t.total=e.data.total,e.data.total<1)t.$message("没有查询到相关数据信息"),t.permissionlist=[];else{var a=e.data.data;a=a.sort(t.compare("sort")),t.permissionlist=e.data.data}})},compare:function(e){return function(t,a){return t[e]-a[e]}},CurrentChange:function(e){var t=this;this.$http.get("permission/parent").then(function(e){t.paginationlist=e.data})},handleCurrentChange:function(e){this.pageNum=e,this.getpermission()},handleSizeChange:function(e){this.pageSize=e,this.getpermission()},openDialog:function(e){this.paginationlist.length<1&&this.CurrentChange(),this.disval=e,this.centerDialogVisible=!0},handleedit:function(e){this.actuserobj=e,this.getidinfo(e.id),this.openDialog(2)},getidinfo:function(e){var t=this;this.$http.get("permission/"+e).then(function(e){var a=e.data;for(var l in a.remark=a.remark?a.remark:"",a)t.ruleForm[l]=a[l]})},handledel:function(e){var t=this;this.$confirm("是否确定删除此数据?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.$http.delete("permission/"+e.id).then(function(e){t.$message.success("删除操作成功！"),t.getpermission()})}).catch(function(){t.$message({type:"info",message:"已取消删除"})})},submitForm:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return console.log("error submit!!"),!1;t.savedata()})},resetForm:function(e){this.actuserobj&&this.actuserobj.id?this.getidinfo(this.actuserobj.id):this.$refs[e].resetFields()},savedata:function(){var e=this,t={};for(var a in this.ruleForm)this.ruleForm[a]&&(t[a]=this.ruleForm[a]);1==this.disval?this.$http.post("permission",t).then(function(t){200==t.status&&(e.$message.success("保存成功"),e.centerDialogVisible=!e.centerDialogVisible,e.getpermission())}):2==this.disval&&this.$http.put("permission",t).then(function(t){200==t.status&&(e.$message.success("保存成功"),e.centerDialogVisible=!e.centerDialogVisible,e.getpermission())})}},created:function(){this.getpermission()}},_={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"perlist mainboss"},[a("div",{staticClass:"martop"},[a("div",{staticClass:"topleft"},[a("el-input",{attrs:{placeholder:"请输入权限名称",clearable:""},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.getpermission(1)}},model:{value:e.PermissionName,callback:function(t){e.PermissionName=t},expression:"PermissionName"}}),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.getpermission(1)}}},[e._v("搜索")])],1),e._v(" "),a("div",{staticClass:"topright"},[a("el-button",{attrs:{type:"primary",icon:"el-icon-plus"},on:{click:function(t){return e.openDialog(1)}}},[e._v("创建权限")])],1)]),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:e.permissionlist,height:this.$store.state.tableHeight,border:"","element-loading-background":"rgba(0, 0, 0, 0.5)","element-loading-text":"数据正在加载中"}},[a("el-table-column",{attrs:{prop:"name",align:"center",label:"权限名称"}}),e._v(" "),a("el-table-column",{attrs:{prop:"url",align:"center",label:"权限地址"}}),e._v(" "),a("el-table-column",{attrs:{prop:"skey",align:"center",label:"权限KEY"}}),e._v(" "),a("el-table-column",{attrs:{prop:"sort",align:"center",label:"排序"}}),e._v(" "),a("el-table-column",{attrs:{fixed:"right",label:"操作",align:"center",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"primary",size:"mini",icon:"el-icon-edit"},on:{click:function(a){return e.handleedit(t.row)}}},[e._v("编辑")]),e._v(" "),a("el-button",{attrs:{type:"danger",size:"mini",icon:"el-icon-delete"},on:{click:function(a){return e.handledel(t.row)}}},[e._v("删除")])]}}])})],1),e._v(" "),a("span",{staticClass:"pagein"},[a("el-pagination",{attrs:{layout:"total, sizes, prev, pager, next, jumper","page-sizes":[15,30,50,100],"page-size":15,total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1),e._v(" "),a("el-dialog",{attrs:{title:1==e.disval?"创建权限":"编辑权限",visible:e.centerDialogVisible,"modal-append-to-body":!1,width:"50%",center:""},on:{"update:visible":function(t){e.centerDialogVisible=t}}},[a("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"父级资源",prop:"parentKey"}},[a("el-select",{attrs:{placeholder:"请选择父级资源"},model:{value:e.ruleForm.parentKey,callback:function(t){e.$set(e.ruleForm,"parentKey",t)},expression:"ruleForm.parentKey"}},e._l(e.paginationlist,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.skey}})}),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"权限名称",prop:"name"}},[a("el-input",{attrs:{maxlength:"255",clearable:""},model:{value:e.ruleForm.name,callback:function(t){e.$set(e.ruleForm,"name",t)},expression:"ruleForm.name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"权限URL"}},[a("el-input",{attrs:{maxlength:"255",clearable:""},model:{value:e.ruleForm.url,callback:function(t){e.$set(e.ruleForm,"url",t)},expression:"ruleForm.url"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"权限KEY",prop:"skey"}},[a("el-input",{attrs:{maxlength:"255",clearable:""},model:{value:e.ruleForm.skey,callback:function(t){e.$set(e.ruleForm,"skey",t)},expression:"ruleForm.skey"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"排序",prop:"sort"}},[a("el-input",{attrs:{maxlength:"11",clearable:""},model:{value:e.ruleForm.sort,callback:function(t){e.$set(e.ruleForm,"sort",t)},expression:"ruleForm.sort"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("ruleForm")}}},[e._v("确认保存")]),e._v(" "),a("el-button",{on:{click:function(t){return e.resetForm("ruleForm")}}},[e._v("表单重置")])],1)],1)],1)],1)},staticRenderFns:[]};var y=a("VU/8")(b,_,!1,function(e){a("fpPY")},"data-v-4976d946",null).exports,k=function(e,t,a){var l=/^([a-zA-Z0-9_-])+@([a-zA-Z0-9_-])+(.[a-zA-Z0-9_-])+/;if(!t)return a(new Error("邮箱不能为空"));setTimeout(function(){l.test(t)?a():a(new Error("请输入正确的邮箱格式"))},100)},F={name:"perlist",data:function(){return{total:0,ptotal:0,disval:1,pageNum:1,pageSize:15,term:{hotelId:"",name:""},loading:!1,centerDialogVisible:!1,actuserobj:{},ruleForm:{username:"",password:"",trueName:"",email:"",type:""},rules:{username:[{required:!0,message:"请输入账户名称",trigger:"blur"}],password:[{required:!0,message:"请输入账户密码",trigger:"blur"},{pattern:/^(?![a-zA-Z]+$)(?![A-Z0-9]+$)(?![A-Z\W_]+$)(?![a-z0-9]+$)(?![a-z\W_]+$)(?![0-9\W_]+$)[a-zA-Z0-9\W_]{8,30}$/,message:"密码为数字，小写字母，大写字母，特殊符号 至少包含三种，长度为 8 - 30位"}],trueName:[{required:!0,message:"请输入真实姓名",trigger:"blur"}],email:[{required:!0,validator:k,trigger:"blur"}],type:[{required:!0,message:"请选择用户类型",trigger:"change"}]},rolelist:[],typelist:[{id:1,label:"系统管理用户"},{id:2,label:"酒店管理用户"},{id:3,label:"供应商用户"}],hotellist:[],userlist:[]}},watch:{centerDialogVisible:function(){if(this.centerDialogVisible);else{for(var e in this.ruleForm)this.ruleForm[e]="";this.actuserobj={}}}},methods:{gethotel:function(){var e=this;this.hotellist.length<1&&this.$http.get("user/hotel").then(function(t){e.hotellist=t.data})},getuserlist:function(e){var t=this;1==e&&(this.pageNum=1);var a="user?pageNum="+this.pageNum+"&pageSize="+this.pageSize;for(var l in this.term)this.term[l]&&(a+="&"+l+"="+this.term[l]);this.loading=!0,this.$http.get(a).then(function(e){if(t.loading=!1,t.total=e.data.total,e.data.total<1)t.$message("没有查询到相关数据信息"),t.userlist=[];else{var a=e.data.data;for(var l in a)1==a[l].status?a[l].status=!0:a[l].status=!1;t.userlist=e.data.data}})},handleCurrentChange:function(e){this.pageNum=e,this.getuserlist()},handleSizeChange:function(e){this.pageSize=e,this.getuserlist()},openDialog:function(e){this.disval=e,this.centerDialogVisible=!this.centerDialogVisible},handleedit:function(e){this.getidinfo(e.id),this.openDialog(2),this.actuserobj=e},handledeploy:function(e){this.openDialog(3),this.actuserobj=e,this.getrole(e.id)},handlereset:function(e){var t=this;this.$confirm("重置密码后，之前旧密码将不能再使用，是否确认重置密码?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.$http.put("user/resetPassword/"+e.id).then(function(e){200==e.status&&t.$message.success("重置成功！")})}).catch(function(){t.$message({type:"info",message:"已取消密码重置"})})},getrole:function(e){var t=this,a="user/role/"+e;this.$http.get(a).then(function(e){if(200==e.status){for(var a in e.data)1==e.data[a].status?e.data[a].status=!0:e.data[a].status=!1;t.rolelist=e.data}})},saverole:function(){var e=this,t=[];for(var a in this.rolelist)this.rolelist[a].status&&t.push(this.rolelist[a].id);if(t.length<1)this.$message.error("请至少选择一个选项");else{var l={userId:this.actuserobj.id,role:t};this.$http.put("user/role",l).then(function(t){e.$message.success("保存成功"),e.centerDialogVisible=!e.centerDialogVisible})}},getidinfo:function(e){var t=this;this.$http.get("user/"+e).then(function(e){var a=e.data;for(var l in a.remark=a.remark?a.remark:"",a)t.ruleForm[l]=a[l]})},changestatus:function(e){var t=this,a={status:"",id:e.id};e.status?a.status=1:a.status=0,this.$http.put("user/status",a).then(function(e){200==e.status&&t.$message.success("修改成功")})},submitForm:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return console.log("error submit!!"),!1;t.savedata()})},resetForm:function(e){this.actuserobj&&this.actuserobj.id?this.getidinfo(this.actuserobj.id):this.$refs[e].resetFields()},savedata:function(){var e=this,t={};for(var a in this.ruleForm)this.ruleForm[a]&&(t[a]=this.ruleForm[a]);1==this.disval?this.$http.post("user",t).then(function(t){200==t.status&&(e.$message.success("保存成功"),e.centerDialogVisible=!e.centerDialogVisible,e.getuserlist())}):2==this.disval&&this.$http.put("user",t).then(function(t){200==t.status&&(e.$message.success("保存成功"),e.centerDialogVisible=!e.centerDialogVisible,e.getuserlist())})}},created:function(){this.getuserlist()}},w={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"user_list mainboss"},[a("div",{staticClass:"martop"},[a("div",{staticClass:"topleft"},[a("el-input",{attrs:{placeholder:"请输入用户名",clearable:""},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.getuserlist(1)}},model:{value:e.term.name,callback:function(t){e.$set(e.term,"name",t)},expression:"term.name"}}),e._v(" "),a("el-select",{attrs:{clearable:"",filterable:"",placeholder:"请选择"},on:{focus:e.gethotel},model:{value:e.term.hotelId,callback:function(t){e.$set(e.term,"hotelId",t)},expression:"term.hotelId"}},e._l(e.hotellist,function(e){return a("el-option",{key:e.value,attrs:{label:e.name,value:e.id}})}),1),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.getuserlist(1)}}},[e._v("搜索")])],1),e._v(" "),a("div",{staticClass:"topright"},[a("el-button",{attrs:{type:"primary",icon:"el-icon-plus"},on:{click:function(t){return e.openDialog(1)}}},[e._v("创建帐户")])],1)]),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:e.userlist,height:this.$store.state.tableHeight,border:"","element-loading-background":"rgba(0, 0, 0, 0.5)","element-loading-text":"数据正在加载中"}},[a("el-table-column",{attrs:{prop:"username",align:"center",label:"用户名"}}),e._v(" "),a("el-table-column",{attrs:{prop:"trueName",align:"center",label:"真实姓名"}}),e._v(" "),a("el-table-column",{attrs:{prop:"createTime",align:"center",label:"创建时间"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",label:"当前状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-switch",{attrs:{"active-text":"","inactive-text":""},on:{change:function(a){return e.changestatus(t.row)}},model:{value:t.row.status,callback:function(a){e.$set(t.row,"status",a)},expression:"scope.row.status"}})]}}])}),e._v(" "),a("el-table-column",{attrs:{fixed:"right",label:"操作",align:"center",width:"350px"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{disabled:!t.row.status,type:"primary",size:"mini",icon:"el-icon-edit"},on:{click:function(a){return e.handleedit(t.row)}}},[e._v("编辑")]),e._v(" "),a("el-button",{attrs:{disabled:!t.row.status,type:"primary",size:"mini",icon:"el-icon-service"},on:{click:function(a){return e.handledeploy(t.row)}}},[e._v("分配角色")]),e._v(" "),a("el-button",{attrs:{disabled:!t.row.status,type:"danger",size:"mini",icon:"el-icon-setting"},on:{click:function(a){return e.handlereset(t.row)}}},[e._v("重置密码")])]}}])})],1),e._v(" "),a("span",{staticClass:"pagein"},[a("el-pagination",{attrs:{layout:"total, sizes, prev, pager, next, jumper","page-sizes":[15,30,50,100],"page-size":15,total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1),e._v(" "),a("el-dialog",{attrs:{title:3==e.disval?"分配角色":1==e.disval?"创建权限":"编辑权限",visible:e.centerDialogVisible,"modal-append-to-body":!1,width:"50%",center:""},on:{"update:visible":function(t){e.centerDialogVisible=t}}},[a("el-form",{directives:[{name:"show",rawName:"v-show",value:1==e.disval||2==e.disval,expression:"disval==1 || disval==2"}],ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"账户名称",prop:"username"}},[a("el-input",{attrs:{disabled:2==e.disval,clearable:""},model:{value:e.ruleForm.username,callback:function(t){e.$set(e.ruleForm,"username",t)},expression:"ruleForm.username"}})],1),e._v(" "),1==e.disval?a("el-form-item",{attrs:{label:"账户密码",prop:"password"}},[a("el-input",{attrs:{maxlength:"255",clearable:""},model:{value:e.ruleForm.password,callback:function(t){e.$set(e.ruleForm,"password",t)},expression:"ruleForm.password"}})],1):e._e(),e._v(" "),a("el-form-item",{attrs:{label:"真实姓名",prop:"trueName"}},[a("el-input",{attrs:{maxlength:"255",clearable:""},model:{value:e.ruleForm.trueName,callback:function(t){e.$set(e.ruleForm,"trueName",t)},expression:"ruleForm.trueName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"电子邮箱",prop:"email"}},[a("el-input",{attrs:{maxlength:"255",clearable:""},model:{value:e.ruleForm.email,callback:function(t){e.$set(e.ruleForm,"email",t)},expression:"ruleForm.email"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"用户类型",prop:"type"}},[a("el-select",{attrs:{placeholder:"请选择用户类型"},model:{value:e.ruleForm.type,callback:function(t){e.$set(e.ruleForm,"type",t)},expression:"ruleForm.type"}},e._l(e.typelist,function(e){return a("el-option",{key:e.id,attrs:{label:e.label,value:e.id}})}),1)],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("ruleForm")}}},[e._v("确认保存")]),e._v(" "),a("el-button",{on:{click:function(t){return e.resetForm("ruleForm")}}},[e._v("表单重置")])],1)],1),e._v(" "),a("ul",{directives:[{name:"show",rawName:"v-show",value:3==e.disval,expression:"disval==3"}],staticClass:"diaul"},[e._l(e.rolelist,function(t){return a("li",{key:t.id},[a("el-checkbox",{attrs:{label:t.status},model:{value:t.status,callback:function(a){e.$set(t,"status",a)},expression:"item.status"}},[e._v(e._s(t.name))])],1)}),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.saverole}},[e._v("保存")])],2)],1)],1)},staticRenderFns:[]};var x=a("VU/8")(F,w,!1,function(e){a("dBfS")},null,null).exports,N=a("bOdI"),C=a.n(N),$={name:"perlist",data:function(){var e;return e={total:0,disval:1,pageNum:1,pageSize:15,areaName:"",loading:!1,centerDialogVisible:!1,checkList:[],arealist:[]},C()(e,"arealist",[]),C()(e,"actuserobj",{}),C()(e,"statuslist",[{id:1,label:"有效"},{id:2,label:"无效"}]),C()(e,"parentmenulist",[]),C()(e,"ruleobj",{}),C()(e,"ruleForm",{name:"",parentId:"",remark:"",seq:"",status:""}),C()(e,"rules",{name:[{required:!0,message:"请输入区域名称",trigger:"blur"}],parentId:[{required:!0,message:"请输入角色code",trigger:"blur"}],seq:[{required:!0,message:"请输入角色code",trigger:"blur"}],status:[{required:!0,message:"请输入角色code",trigger:"blur"}]}),e},filters:{filterstatus:function(e){return 1==e?"有效":"无效"}},watch:{centerDialogVisible:function(){if(this.centerDialogVisible)this.CurrentChange(1);else{for(var e in this.ruleForm)this.ruleForm[e]="";this.actuserobj={}}}},methods:{getarea:function(e){var t=this;1==e&&(this.pageNum=1);var a="area?pageNum="+this.pageNum+"&pageSize="+this.pageSize;this.areaName&&(a+="&name="+this.areaName),this.loading=!0,this.$http.get(a).then(function(e){if(t.loading=!1,t.areaName="",t.total=e.data.total,e.data.total<1)t.$message("没有查询到相关数据信息"),t.arealist=[];else{var a=e.data.data;for(var l in a)1==a[l].status?a[l].status=!0:a[l].status=!1;t.arealist=a}})},CurrentChange:function(e){var t=this,a="area/parent?pageNum="+e+"&pageSize=10";this.$http.get(a).then(function(e){t.parentmenulist=e.data})},handleCurrentChange:function(e){this.pageNum=e,this.getarea()},handleSizeChange:function(e){this.pageSize=e,this.getarea()},openDialog:function(e){this.disval=e,this.centerDialogVisible=!0},handleedit:function(e){for(var t in e)e[t]&&(this.ruleForm[t]=e[t]);this.actuserobj=e,this.getidinfo(e.id),this.openDialog(2)},changestatus:function(e){var t=this,a={status:"",id:e.id};e.status?a.status=1:a.status=2,this.$http.put("area/status",a).then(function(e){200==e.status&&t.$message.success("修改成功")})},getidinfo:function(e){var t=this;this.$http.get("area/"+e).then(function(e){var a=e.data;for(var l in a.remark=a.remark?a.remark:"",a)t.ruleForm[l]=a[l]})},submitForm:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return console.log("error submit!!"),!1;t.savedata()})},resetForm:function(e){this.actuserobj&&this.actuserobj.id?this.getidinfo(this.actuserobj.id):(this.$refs[e].resetFields(),this.ruleForm.remark="")},savedata:function(){var e=this,t={};for(var a in this.ruleForm)t[a]=this.ruleForm[a];1==this.disval?this.$http.post("area",t).then(function(t){200==t.status&&(e.$message.success("保存成功"),e.centerDialogVisible=!e.centerDialogVisible,e.getarea())}):2==this.disval&&this.$http.put("area",t).then(function(t){200==t.status&&(e.$message.success("保存成功"),e.centerDialogVisible=!e.centerDialogVisible,e.getarea())})}},created:function(){this.getarea()}},z={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"area_list mainboss"},[a("div",{staticClass:"martop"},[a("div",{staticClass:"topleft"},[a("el-input",{attrs:{placeholder:"请输入区域名称",clearable:""},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.getarea(1)}},model:{value:e.areaName,callback:function(t){e.areaName=t},expression:"areaName"}}),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.getarea(1)}}},[e._v("搜索")])],1),e._v(" "),a("div",{staticClass:"topright"},[a("el-button",{attrs:{type:"primary",icon:"el-icon-plus"},on:{click:function(t){return e.openDialog(1)}}},[e._v("创建区域")])],1)]),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:e.arealist,height:this.$store.state.tableHeight,border:"","element-loading-background":"rgba(0, 0, 0, 0.5)","element-loading-text":"数据正在加载中"}},[a("el-table-column",{attrs:{prop:"name",align:"center",label:"区域名称"}}),e._v(" "),a("el-table-column",{attrs:{prop:"hotelNo",align:"center",label:"酒店数量"}}),e._v(" "),a("el-table-column",{attrs:{prop:"roomNo",align:"center",label:"房间数量"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",label:"当前状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-switch",{attrs:{"active-text":"","inactive-text":""},on:{change:function(a){return e.changestatus(t.row)}},model:{value:t.row.status,callback:function(a){e.$set(t.row,"status",a)},expression:"scope.row.status"}})]}}])}),e._v(" "),a("el-table-column",{attrs:{fixed:"right",label:"操作",align:"center",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{disabled:!t.row.status,type:"primary",size:"mini",icon:"el-icon-edit"},on:{click:function(a){return e.handleedit(t.row)}}},[e._v("编辑")])]}}])})],1),e._v(" "),a("span",{staticClass:"pagein"},[a("el-pagination",{attrs:{layout:"total, sizes, prev, pager, next, jumper","page-sizes":[15,30,50,100],"page-size":15,total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1),e._v(" "),a("el-dialog",{attrs:{title:1==e.disval?"创建区域":"编辑区域",visible:e.centerDialogVisible,"modal-append-to-body":!1,width:"50%",center:""},on:{"update:visible":function(t){e.centerDialogVisible=t}}},[a("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"区域名称",prop:"name"}},[a("el-input",{attrs:{placeholder:"请输入区域名称",maxlength:"20",clearable:""},model:{value:e.ruleForm.name,callback:function(t){e.$set(e.ruleForm,"name",t)},expression:"ruleForm.name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"上级区域",prop:"parentId"}},[a("el-select",{attrs:{clearable:"",filterable:"",placeholder:"请选择上级区域"},model:{value:e.ruleForm.parentId,callback:function(t){e.$set(e.ruleForm,"parentId",t)},expression:"ruleForm.parentId"}},e._l(e.parentmenulist,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"排序",prop:"seq"}},[a("el-input",{attrs:{placeholder:"请输入排序序号",type:"number",oninput:"if(value.length>11)value=value.slice(0,11)",clearable:""},model:{value:e.ruleForm.seq,callback:function(t){e.$set(e.ruleForm,"seq",t)},expression:"ruleForm.seq"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"状态",prop:"status"}},[a("el-select",{attrs:{placeholder:"请选择状态"},model:{value:e.ruleForm.status,callback:function(t){e.$set(e.ruleForm,"status",t)},expression:"ruleForm.status"}},e._l(e.statuslist,function(e){return a("el-option",{key:e.id,attrs:{label:e.label,value:e.id}})}),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"备注",prop:"remark"}},[a("el-input",{attrs:{type:"textarea",rows:2,placeholder:"请输入备注",maxlength:"100",clearable:""},model:{value:e.ruleForm.remark,callback:function(t){e.$set(e.ruleForm,"remark",t)},expression:"ruleForm.remark"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("ruleForm")}}},[e._v("确认保存")]),e._v(" "),a("el-button",{on:{click:function(t){return e.resetForm("ruleForm")}}},[e._v("表单重置")])],1)],1)],1)],1)},staticRenderFns:[]};var V=a("VU/8")($,z,!1,function(e){a("aQTf")},"data-v-4d6602d5",null).exports,D=a("fZjL"),S=a.n(D),q=a("mvHQ"),I=a.n(q),E=a("RRo+"),j=a.n(E),A=a("AMV0"),T=a.n(A),O=function(e,t,a){(t*=1)||a(new Error("1请输入一个数字")),setTimeout(function(){T()(t)?t<0?a(new Error("请输入一个大于0的数字")):j()(t)?a():a(new Error("请输入一个正整数")):a(new Error("2请输入一个数字"))},100)},L=function(e,t,a){(t*=1)||a(new Error("请输入价格")),setTimeout(function(){T()(t)?t<0?a(new Error("价格应该大于0")):j()(t)?a():-1!=(t+=" ").indexOf(".")&&(t.split(".")[1].length>3?a(new Error("价格最多有两位小数")):a()):a(new Error("价格应该是一个大于数的数字"))},100)},H={name:"goods_list",data:function(){return{disval:1,total:0,pageNum:1,pageSize:15,loading:!1,innerVisible:!1,centerDialogVisible:!1,name:"",goodslist:[],statuslist:[{id:1,label:"有效"},{id:2,label:"作废"}],fileList:[],bannerlist:[],typelist:[{id:1,label:"单人间"},{id:2,label:"标准间"},{id:3,label:"大床间"},{id:4,label:"三人间"},{id:5,label:"套间"}],uploadForm:{file:null,goodsId:"",sort:""},uploadrules:{files:[{required:!0,message:"请选择商品图片",trigger:"blur"}],sort:[{required:!0,validator:O,trigger:"blur"}]},ruleForm:{id:"",intro:"",name:"",originPrice:"",remark:"",salePrice:"",status:"",thumb:"",file:null},rules:{name:[{required:!0,message:"请输入商品名称",trigger:"blur"}],intro:[{required:!0,message:"请输入商品简介",trigger:"blur"}],originPrice:[{required:!0,validator:L,trigger:"blur"}],salePrice:[{required:!0,validator:L,trigger:"blur"}],remark:[{required:!0,message:"请输商品子标题",trigger:"blur"}],file:[{required:!0,message:"请选择商品图片",trigger:"blur"}]}}},filters:{fiterstatus:function(e){return 1==e?"有效":"无效"},fitertype:function(e){return 1==e?"单人间":2==e?"标准间":3==e?"大床间":4==e?"三人间":5==e?"套间":"其它"}},watch:{centerDialogVisible:function(){if(this.fileList=[],!this.centerDialogVisible&&this.ruleForm&&this.ruleForm.name){for(var e in this.ruleForm)this.ruleForm[e]="";this.ruleForm.file=null,this.actuserobj={}}},innerVisible:function(){if(this.fileList=[],!this.innerVisible){for(var e in this.uploadForm)this.uploadForm[e]="";this.uploadForm.files=null}}},methods:{getgoodslist:function(e){var t=this;1==e&&(this.pageNum=1);var a="goods?pageNum="+this.pageNum+"&pageSize="+this.pageSize;this.name&&(a+="&name="+this.name),this.$http.get(a).then(function(e){var a=e.data.data;for(var l in a)2==a[l].status?a[l].status=!0:3==a[l].status&&(a[l].status=!1);t.goodslist=a,t.total=e.data.total})},handleCurrentChange:function(e){this.pageNum=e,this.getgoodslist()},handleSizeChange:function(e){this.pageSize=e,this.getgoodslist()},changestatus:function(e){var t,a=this,l={};(l=JSON.parse(I()(e))).status=l.status?2:3,t={status:l.status,id:e.id},this.$http.put("goods/status",t).then(function(e){200==e.status&&(a.$message.success("修改成功"),a.getgoodslist())})},openDialog:function(e){this.disval=e,this.centerDialogVisible=!this.centerDialogVisible,this.uploadData={}},handleedit:function(e){this.getidinfo(e.id),this.openDialog(2),this.actuserobj=e},handlebanner:function(e){this.openDialog(3),this.actuserobj=e,this.uploadForm.goodsId=e.id,this.getbannerlist(e.id)},getbannerlist:function(e){var t=this;this.$http.get("goods/banner?id="+e).then(function(e){e.data.sort(function(e,t){return e.sort<t.sort?-1:e.sort>t.sort?1:0}),t.bannerlist=e.data})},handlelbdel:function(e){var t=this;this.$confirm("此操作将永久删除该数据, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.$http.delete("goods/banner/"+e.id).then(function(e){t.$message.success("修改成功"),t.getbannerlist(t.actuserobj.id)})}).catch(function(){t.$message({type:"info",message:"已取消删除"})})},getidinfo:function(e){var t=this;this.$http.get("goods/"+e).then(function(e){var a=e.data,l=a.thumb.split("/"),r={name:l[l.length-1],url:t.$GLOBAL.API+a.thumb};for(var i in 3!=t.disval&&(t.fileList=[],t.fileList.push(r)),a.intro=a.intro?a.intro:"",a.remark=a.remark?a.remark:"",a)t.ruleForm[i]=a[i]})},submitForm:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return console.log("error submit!!"),!1;3!=t.disval?t.savedata():t.savebanner()})},resetForm:function(e){this.actuserobj&&this.actuserobj.id?this.getidinfo(this.actuserobj.id):(this.$refs[e].resetFields(),this.ruleForm.intro="")},savedata:function(){var e=this,t={};for(var a in this.ruleForm)this.ruleForm[a]&&(t[a]=this.ruleForm[a]);var l=new FormData;S()(t).forEach(function(e){return l.append(e,t[e])}),t=l,1==this.disval?this.$http.post("goods",t).then(function(t){200==t.status&&(e.$message.success("保存成功"),e.centerDialogVisible=!e.centerDialogVisible,e.getgoodslist())}):2==this.disval&&this.$http.put("goods",t).then(function(t){200==t.status&&(e.$message.success("保存成功"),e.centerDialogVisible=!e.centerDialogVisible,e.getgoodslist())})},savebanner:function(){var e=this,t={};for(var a in this.uploadForm)this.uploadForm[a]&&(t[a]=this.uploadForm[a]);var l=new FormData;S()(t).forEach(function(e){return l.append(e,t[e])}),t=l,this.$http.post("goods/banner",t).then(function(t){200==t.status&&(e.$message.success("保存成功"),e.getbannerlist(e.actuserobj.id),e.innerVisible=!e.innerVisible)})},onBeforeUpload:function(e){var t="image/jpeg"===e.type||"image/jpg",a=e.size/1024<300;return t?a?3!=this.disval?this.ruleForm.file=e:this.uploadForm.file=e:this.$message.error("上传文件大小不能超过 300kb!"):this.$message.error("上传文件只能是图片格式!"),t&&a},onchange:function(e,t){var a={name:e.name,url:e.url,isupload:1};this.fileList=[],this.fileList.push(a)},handleRemove:function(e,t){this.fileList=[],3!=this.disval?this.ruleForm.file=null:this.uploadForm.file=null},handleExceed:function(e,t){this.$message.warning("当前限制选择 1 个文件，本次选择了 "+e.length+" 个文件，共选择了 "+(e.length+t.length)+" 个文件")}},created:function(){this.getgoodslist()}},P={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"goods_list mainboss"},[a("div",{staticClass:"martop"},[a("div",{staticClass:"topleft"},[a("el-input",{attrs:{placeholder:"请输入商品名称",clearable:""},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.getgoodslist(1)}},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}}),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.getgoodslist(1)}}},[e._v("搜索")])],1),e._v(" "),a("div",{staticClass:"topright"},[a("el-button",{attrs:{type:"primary",icon:"el-icon-plus"},on:{click:function(t){return e.openDialog(1)}}},[e._v("创建商品")])],1)]),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:e.goodslist,height:this.$store.state.tableHeight,border:"","element-loading-background":"rgba(0, 0, 0, 0.5)","element-loading-text":"数据正在加载中"}},[a("el-table-column",{attrs:{prop:"name",align:"center",label:"商品名称",maxlength:"100"}}),e._v(" "),a("el-table-column",{attrs:{prop:"thumb",align:"center",label:"商品图片"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("img",{staticClass:"thumbimg",attrs:{src:e.$GLOBAL.API+t.row.thumb,alt:"商品图片"}})]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"originPrice",align:"center",label:"商品原价",type:"number",oninput:"if(value.length>10)value=value.slice(0,10)"}}),e._v(" "),a("el-table-column",{attrs:{prop:"salePrice",align:"center",label:"销售价格",type:"number",oninput:"if(value.length>10)value=value.slice(0,10)"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",label:"状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-switch",{attrs:{"active-text":"","inactive-text":""},on:{change:function(a){return e.changestatus(t.row)}},model:{value:t.row.status,callback:function(a){e.$set(t.row,"status",a)},expression:"scope.row.status"}})]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{disabled:!t.row.status,type:"primary",size:"mini",icon:"el-icon-edit"},on:{click:function(a){return e.handleedit(t.row)}}},[e._v("编辑")]),e._v(" "),a("el-button",{attrs:{disabled:!t.row.status,type:"primary",size:"mini",icon:"el-icon-edit"},on:{click:function(a){return e.handlebanner(t.row)}}},[e._v("轮播图")])]}}])})],1),e._v(" "),a("span",{staticClass:"pagein"},[a("el-pagination",{attrs:{layout:"total, sizes, prev, pager, next, jumper","page-sizes":[15,30,50,100],"page-size":15,total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1),e._v(" "),a("el-dialog",{attrs:{title:3==e.disval?"编辑轮播图":1==e.disval?"创建商品":"编辑商品",visible:e.centerDialogVisible,"modal-append-to-body":!1,width:"50%",center:""},on:{"update:visible":function(t){e.centerDialogVisible=t}}},[a("el-form",{directives:[{name:"show",rawName:"v-show",value:3!=e.disval,expression:"disval !=3"}],ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"商品名称",prop:"name"}},[a("el-input",{attrs:{placeholder:"请输入商品名称",maxlength:"100",clearable:"",disabled:!0},model:{value:e.ruleForm.name,callback:function(t){e.$set(e.ruleForm,"name",t)},expression:"ruleForm.name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"商品子标题",prop:"remark"}},[a("el-input",{attrs:{placeholder:"请输商品子标题",maxlength:"500",clearable:""},model:{value:e.ruleForm.remark,callback:function(t){e.$set(e.ruleForm,"remark",t)},expression:"ruleForm.remark"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"商品图片",prop:"files"}},[a("el-upload",{staticClass:"upload-demo",attrs:{action:"#","before-upload":e.onBeforeUpload,"on-change":e.onchange,limit:1,"on-exceed":e.handleExceed,"file-list":e.fileList,"list-type":"picture-card"}},[a("el-button",{attrs:{size:"mini",type:"primary"}},[e._v("点击上传")]),e._v(" "),a("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v("只能上传jpg/png文件，且不超过300kb")])],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"商品原价",prop:"originPrice"}},[a("el-input",{attrs:{placeholder:"商品原价",type:"number",oninput:"if(value.length>10)value=value.slice(0,10)",clearable:""},model:{value:e.ruleForm.originPrice,callback:function(t){e.$set(e.ruleForm,"originPrice",t)},expression:"ruleForm.originPrice"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"销售价格",prop:"salePrice"}},[a("el-input",{attrs:{placeholder:"销售价格",type:"number",oninput:"if(value.length>10)value=value.slice(0,10)",clearable:""},model:{value:e.ruleForm.salePrice,callback:function(t){e.$set(e.ruleForm,"salePrice",t)},expression:"ruleForm.salePrice"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"商品简介"}},[a("el-input",{attrs:{type:"textarea",rows:2,placeholder:"请输入商品简介",clearable:""},model:{value:e.ruleForm.intro,callback:function(t){e.$set(e.ruleForm,"intro",t)},expression:"ruleForm.intro"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("ruleForm")}}},[e._v("确认保存")]),e._v(" "),a("el-button",{on:{click:function(t){return e.resetForm("ruleForm")}}},[e._v("表单重置")])],1)],1),e._v(" "),a("el-button",{directives:[{name:"show",rawName:"v-show",value:3==e.disval,expression:"disval ==3"}],attrs:{type:"primary"},on:{click:function(t){e.innerVisible=!0}}},[e._v("添加轮播图")]),e._v(" "),a("el-dialog",{attrs:{width:"30%",title:"添加轮播图",visible:e.innerVisible,"append-to-body":""},on:{"update:visible":function(t){e.innerVisible=t}}},[a("el-form",{ref:"uploadForm",staticClass:"demo-ruleForm",attrs:{model:e.uploadForm,rules:e.uploadrules,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"商品图片",prop:"file"}},[a("el-upload",{staticClass:"upload-demo",attrs:{action:"#","before-upload":e.onBeforeUpload,"on-change":e.onchange,"on-remove":e.handleRemove,limit:1,"on-exceed":e.handleExceed,"file-list":e.fileList,"list-type":"picture-card"}},[a("el-button",{attrs:{size:"mini",type:"primary"}},[e._v("添加轮播图")]),e._v(" "),a("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v("只能上传jpg/png文件，且不超过300kb")])],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"序号",prop:"sort"}},[a("el-input",{attrs:{placeholder:"商品原价",type:"number",clearable:""},model:{value:e.uploadForm.sort,callback:function(t){e.$set(e.uploadForm,"sort",t)},expression:"uploadForm.sort"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("uploadForm")}}},[e._v("确认保存")]),e._v(" "),a("el-button",{on:{click:function(t){e.innerVisible=!1}}},[e._v("取消")])],1)],1)],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"},{name:"show",rawName:"v-show",value:3==e.disval,expression:"disval ==3"}],staticStyle:{width:"100%"},attrs:{data:e.bannerlist,border:"","element-loading-background":"rgba(0, 0, 0, 0.5)","element-loading-text":"数据正在加载中"}},[a("el-table-column",{attrs:{prop:"thumb",align:"center",label:"商品图片"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("img",{staticClass:"thumbimg",attrs:{src:e.$GLOBAL.API+t.row.bannerPath,alt:"商品图片"}})]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"originPrice",align:"center",label:"状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.id?"已上传":""))]}}])}),e._v(" "),a("el-table-column",{attrs:{fixed:"right",label:"操作",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"primary",size:"mini",icon:"el-icon-edit"},on:{click:function(a){return e.handlelbdel(t.row)}}},[e._v("删除")])]}}])})],1)],1)],1)},staticRenderFns:[]};var R=a("VU/8")(H,P,!1,function(e){a("UFtW")},null,null).exports,B=function(e,t,a){var l=/^([a-zA-Z0-9_-])+@([a-zA-Z0-9_-])+(.[a-zA-Z0-9_-])+/;if(!t)return a(new Error("邮箱不能为空"));setTimeout(function(){l.test(t)?a():a(new Error("请输入正确的邮箱格式"))},100)},M=function(e,t,a){(t*=1)||a(new Error("请输入一个数字")),setTimeout(function(){T()(t)?t<0?a(new Error("请输入一个大于0的数字")):j()(t)?a():a(new Error("请输入一个正整数")):a(new Error("请输入一个数字"))},100)},U=function(e,t,a){(t*=1)||a(new Error("请输入销售价格")),setTimeout(function(){T()(t)?t<0?a(new Error("销售价格应该大于0")):j()(t)?a():-1!=(t+=" ").indexOf(".")&&(t.split(".")[1].length>3?a(new Error("价格最多有两位小数")):a()):a(new Error("销售价格应该是一个大于0的数字"))},100)},Z={name:"store_list",data:function(){return{total:0,ptotal:0,disval:1,pageNum:1,pageSize:15,username:"",loading:!1,centerDialogVisible:!1,term:{goodsId:"",hotelId:""},actuserobj:{},ruleForm:{currentStock:"",goodsId:"",hotelId:"",id:"",remark:"",salePrice:"",securityStock:"",status:"",total:""},rules:{goodsId:[{required:!0,message:"请选择商品",trigger:"change"}],hotelId:[{required:!0,message:"请选择酒店",trigger:"change"}],salePrice:[{required:!0,validator:U,trigger:"blur"}],securityStock:[{required:!0,validator:M,trigger:"blur"}],currentStock:[{required:!0,validator:M,trigger:"blur"}],total:[{required:!0,validator:M,trigger:"blur"}],email:[{required:!0,validator:B,trigger:"blur"}],status:[{required:!0,message:"请选择用户类型",trigger:"change"}]},rolelist:[],typelist:[{id:1,label:"有效"},{id:0,label:"无效"}],options:[],hotellist:[],goodsList:[],storelist:[]}},watch:{centerDialogVisible:function(){if(!this.centerDialogVisible){for(var e in this.ruleForm)this.ruleForm[e]="";this.actuserobj={}}}},methods:{getarea:function(){var e=this;this.options.length<1&&this.$http.get("store/areaList").then(function(t){var a=[];for(var l in t.data){var r={};r.value=t.data[l].id,r.label=t.data[l].name,r.children=[],a.push(r)}e.options=a})},handleItemChange:function(e){this.gethotel(e[0])},gethotel:function(e){var t=this;this.$http.get("store/hotelList/"+e).then(function(a){var l=[];for(var r in t.options)if(e==t.options[r].value){for(var i in a.data){var n={};n.value=a.data[i].id,n.label=a.data[i].name,l.push(n)}t.options[r].children=l}})},handlechange:function(e){this.centerDialogVisible?this.ruleForm.hotelId=e[1]:this.term.hotelId=e[1]},handlechangesel:function(e){this.ruleForm.goodsId=e},getgoodsList:function(){var e=this;this.goodsList.length<1&&this.$http.get("store/goodsList").then(function(t){e.goodsList=t.data})},getstorelist:function(e){var t=this;1==e&&(this.pageNum=1);var a="store?pageNum="+this.pageNum+"&pageSize="+this.pageSize;for(var l in this.term)this.term[l]&&(a+="&"+l+"="+this.term[l]);this.loading=!0,this.$http.get(a).then(function(e){if(t.loading=!1,t.total=e.data.total,e.data.total<1)t.$message("没有查询到相关数据信息"),t.storelist=[];else{var a=e.data.data;for(var l in a)1==a[l].status?a[l].status=!0:a[l].status=!1;t.storelist=a}})},handleCurrentChange:function(e){this.pageNum=e,this.getstorelist()},handleSizeChange:function(e){this.pageSize=e,this.getstorelist()},openDialog:function(e){this.disval=e,this.centerDialogVisible=!this.centerDialogVisible},handleedit:function(e){this.getidinfo(e.id),this.openDialog(2),this.actuserobj=e},handledel:function(e){var t=this;this.$confirm("此操作将永久删除该数据, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.$http.delete("store/"+e.id).then(function(e){t.$message.success("修改成功"),t.getstorelist()})}).catch(function(){t.$message({type:"info",message:"已取消删除"})})},getidinfo:function(e){var t=this;this.$http.get("store/"+e).then(function(e){var a=e.data;for(var l in t.actuserobj.children=a,a.remark=a.remark?a.remark:"",a)t.ruleForm[l]=a[l]})},changestatus:function(e){var t=this,a={status:"",id:e.id};e.status?a.status=1:a.status=2,this.$http.put("store/status",a).then(function(e){200==e.status&&t.$message.success("修改成功")})},submitForm:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return console.log("error submit!!"),!1;t.savedata()})},resetForm:function(e){this.actuserobj&&this.actuserobj.id?this.getidinfo(this.actuserobj.id):(this.$refs[e].resetFields(),this.ruleForm.remark="")},savedata:function(){var e=this,t={};for(var a in this.ruleForm)this.ruleForm[a]&&(t[a]=this.ruleForm[a]);1==this.disval?this.$http.post("store",t).then(function(t){200==t.status&&(e.$message.success("保存成功"),e.centerDialogVisible=!e.centerDialogVisible,e.getstorelist())}):2==this.disval&&this.$http.put("store",t).then(function(t){200==t.status&&(e.$message.success("保存成功"),e.centerDialogVisible=!e.centerDialogVisible,e.getstorelist())})}},created:function(){this.getstorelist()}},Y={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"store_list mainboss"},[a("div",{staticClass:"martop"},[a("div",{staticClass:"topleft"},[a("el-select",{attrs:{clearable:"",filterable:"",placeholder:"请选择商品"},on:{focus:e.getgoodsList},model:{value:e.term.goodsId,callback:function(t){e.$set(e.term,"goodsId",t)},expression:"term.goodsId"}},e._l(e.goodsList,function(e){return a("el-option",{key:e.value,attrs:{label:e.name,value:e.id}})}),1),e._v(" "),a("el-cascader",{attrs:{placeholder:"选择区域酒店","show-all-levels":!1,options:e.options,filterable:"",clearable:""},on:{"active-item-change":e.handleItemChange,change:e.handlechange,focus:e.getarea}}),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.getstorelist(1)}}},[e._v("搜索")])],1),e._v(" "),a("div",{staticClass:"topright"},[a("el-button",{attrs:{type:"primary",icon:"el-icon-plus"},on:{click:function(t){return e.openDialog(1)}}},[e._v("创建库存")])],1)]),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:e.storelist,height:this.$store.state.tableHeight,border:"","element-loading-background":"rgba(0, 0, 0, 0.5)","element-loading-text":"数据正在加载中"}},[a("el-table-column",{attrs:{prop:"goodsName",align:"center",label:"商品名称"}}),e._v(" "),a("el-table-column",{attrs:{prop:"hotelName",align:"center",label:"酒店名称"}}),e._v(" "),a("el-table-column",{attrs:{prop:"total",align:"center",label:"商品总数"}}),e._v(" "),a("el-table-column",{attrs:{prop:"currentStock",align:"center",label:"当前库存"}}),e._v(" "),a("el-table-column",{attrs:{prop:"securityStock",align:"center",label:"安全库存"}}),e._v(" "),a("el-table-column",{attrs:{prop:"salePrice",align:"center",label:"销售价格"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",label:"当前状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-switch",{attrs:{"active-text":"","inactive-text":""},on:{change:function(a){return e.changestatus(t.row)}},model:{value:t.row.status,callback:function(a){e.$set(t.row,"status",a)},expression:"scope.row.status"}})]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"remark",align:"center",label:"备注"}}),e._v(" "),a("el-table-column",{attrs:{fixed:"right",label:"操作",align:"center",width:"190"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{disabled:!t.row.status,type:"primary",size:"mini",icon:"el-icon-edit"},on:{click:function(a){return e.handleedit(t.row)}}},[e._v("编辑")]),e._v(" "),a("el-button",{attrs:{disabled:!t.row.status,type:"danger",size:"mini",icon:"el-icon-delete"},on:{click:function(a){return e.handledel(t.row)}}},[e._v("删除")])]}}])})],1),e._v(" "),a("span",{staticClass:"pagein"},[a("el-pagination",{attrs:{layout:"total, sizes, prev, pager, next, jumper","page-sizes":[15,30,50,100],"page-size":15,total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1),e._v(" "),a("el-dialog",{attrs:{title:1==e.disval?"创建库存":"编辑库存",visible:e.centerDialogVisible,"modal-append-to-body":!1,width:"50%",center:""},on:{"update:visible":function(t){e.centerDialogVisible=t}}},[e.centerDialogVisible?a("el-form",{directives:[{name:"show",rawName:"v-show",value:1==e.disval||2==e.disval,expression:"disval==1 || disval==2"}],ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"酒店名称",prop:"hotelId"}},[a("el-cascader",{attrs:{placeholder:e.actuserobj.hotelName,"show-all-levels":!1,options:e.options,filterable:"",clearable:""},on:{focus:e.getarea,"active-item-change":e.handleItemChange,change:e.handlechange}})],1),e._v(" "),a("el-form-item",{attrs:{label:"商品名称",prop:"goodsId"}},[a("el-select",{attrs:{clearable:"",filterable:""},on:{focus:e.getgoodsList,change:e.handlechangesel},model:{value:e.actuserobj.goodsName,callback:function(t){e.$set(e.actuserobj,"goodsName",t)},expression:"actuserobj.goodsName"}},e._l(e.goodsList,function(e){return a("el-option",{key:e.value,attrs:{label:e.name,value:e.id}})}),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"销售价格",prop:"salePrice"}},[a("el-input",{attrs:{placeholder:"请输入销售价格",type:"number",oninput:"if(value.length>10)value=value.slice(0,10)",clearable:""},model:{value:e.ruleForm.salePrice,callback:function(t){e.$set(e.ruleForm,"salePrice",t)},expression:"ruleForm.salePrice"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"商品总数",prop:"total"}},[a("el-input",{attrs:{placeholder:"请输入商品总数",type:"number",oninput:"if(value.length>11)value=value.slice(0,11)",clearable:""},model:{value:e.ruleForm.total,callback:function(t){e.$set(e.ruleForm,"total",t)},expression:"ruleForm.total"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"当前库存",prop:"currentStock"}},[a("el-input",{attrs:{placeholder:"请输入当前库存",type:"number",oninput:"if(value.length>11)value=value.slice(0,11)",clearable:""},model:{value:e.ruleForm.currentStock,callback:function(t){e.$set(e.ruleForm,"currentStock",t)},expression:"ruleForm.currentStock"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"安全库存",prop:"securityStock"}},[a("el-input",{attrs:{placeholder:"请输入安全库存",type:"number",oninput:"if(value.length>11)value=value.slice(0,11)",clearable:""},model:{value:e.ruleForm.securityStock,callback:function(t){e.$set(e.ruleForm,"securityStock",t)},expression:"ruleForm.securityStock"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"状态",prop:"status"}},[a("el-select",{attrs:{placeholder:"请选择状态"},model:{value:e.ruleForm.status,callback:function(t){e.$set(e.ruleForm,"status",t)},expression:"ruleForm.status"}},e._l(e.typelist,function(e){return a("el-option",{key:e.id,attrs:{label:e.label,value:e.id}})}),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"备注"}},[a("el-input",{attrs:{type:"textarea",rows:2,placeholder:"请输入备注",oninput:"if(value.length>500)value=value.slice(0,500)",clearable:""},model:{value:e.ruleForm.remark,callback:function(t){e.$set(e.ruleForm,"remark",t)},expression:"ruleForm.remark"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("ruleForm")}}},[e._v("确认保存")]),e._v(" "),a("el-button",{on:{click:function(t){return e.resetForm("ruleForm")}}},[e._v("表单重置")])],1)],1):e._e()],1)],1)},staticRenderFns:[]},K=a("VU/8")(Z,Y,!1,null,null,null).exports,W={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"storelog_list mainboss"},[a("div",{staticClass:"martop"},[a("div",{staticClass:"topleft"},[a("el-select",{attrs:{clearable:"",filterable:"",placeholder:"请选择商品"},on:{focus:e.getgoodsList},model:{value:e.term.goodsId,callback:function(t){e.$set(e.term,"goodsId",t)},expression:"term.goodsId"}},e._l(e.goodsList,function(e){return a("el-option",{key:e.value,attrs:{label:e.name,value:e.id}})}),1),e._v(" "),a("el-cascader",{attrs:{placeholder:"选择区域酒店","show-all-levels":!1,options:e.options,filterable:"",clearable:""},on:{"active-item-change":e.handleItemChange,change:e.handlechange,focus:e.getarea}}),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.getstorelist(1)}}},[e._v("搜索")])],1)]),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:e.storelist,height:this.$store.state.tableHeight,border:"","element-loading-background":"rgba(0, 0, 0, 0.5)","element-loading-text":"数据正在加载中"}},[a("el-table-column",{attrs:{prop:"goodsName",align:"center",label:"商品名称"}}),e._v(" "),a("el-table-column",{attrs:{prop:"hotelName",align:"center",label:"酒店名称"}}),e._v(" "),a("el-table-column",{attrs:{prop:"detail",align:"center",label:"详情"}}),e._v(" "),a("el-table-column",{attrs:{prop:"createTime",align:"center",label:"操作时间"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",label:"状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s("0"==t.row.status?"添加":"1"==t.row.status?"修改":"删除"))]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"trueName",align:"center",label:"操作人"}})],1),e._v(" "),a("span",{staticClass:"pagein"},[a("el-pagination",{attrs:{layout:"total, sizes, prev, pager, next, jumper","page-sizes":[15,30,50,100],"page-size":15,total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)},staticRenderFns:[]},X=a("VU/8")({name:"storeloglist",data:function(){return{total:0,pageNum:1,pageSize:15,term:{goodsId:"",hotelId:""},options:[],goodsList:[],storelist:[]}},methods:{getarea:function(){var e=this;this.options.length<1&&this.$http.get("store/areaList").then(function(t){var a=[];for(var l in t.data){var r={};r.value=t.data[l].id,r.label=t.data[l].name,r.children=[],a.push(r)}e.options=a})},handleItemChange:function(e){this.gethotel(e[0])},gethotel:function(e){var t=this;this.$http.get("store/hotelList/"+e).then(function(a){var l=[];for(var r in t.options)if(e==t.options[r].value){for(var i in a.data){var n={};n.value=a.data[i].id,n.label=a.data[i].name,l.push(n)}t.options[r].children=l}})},handlechange:function(e){this.term.hotelId=e[1]},getgoodsList:function(){var e=this;this.goodsList.length<1&&this.$http.get("store/goodsList").then(function(t){e.goodsList=t.data})},getstorelist:function(e){var t=this;1==e&&(this.pageNum=1);var a="store/logList?pageNum="+this.pageNum+"&pageSize="+this.pageSize;for(var l in this.term)this.term[l]&&(a+="&"+l+"="+this.term[l]);this.loading=!0,this.$http.get(a).then(function(e){if(t.loading=!1,t.total=e.data.total,e.data.total<1)t.$message("没有查询到相关数据信息"),t.storelist=[];else{var a=e.data.data;for(var l in a)1==a[l].status?a[l].status=!0:a[l].status=!1;t.storelist=e.data.data}})},handleCurrentChange:function(e){this.pageNum=e,this.getstorelist()},handleSizeChange:function(e){this.pageSize=e,this.getstorelist()}},created:function(){this.getstorelist()}},W,!1,null,null,null).exports,G=function(e,t,a){var l=/^0\d{2,3}-?\d{7,8}$/,r=/^(((13[0-9]{1})|(15[0-9]{1})|(18[0-9]{1}))+\d{8})$/;if(!t)return a(new Error("电话号码不能为空"));setTimeout(function(){j()(+t)?l.test(t)?a():r.test(t)?a():a(new Error("电话号码格式不正确")):a(new Error("请输入数字值"))},100)},Q={name:"supplier_list",data:function(){return{disval:1,total:0,pageNum:1,pageSize:15,supplierName:"",centerDialogVisible:!1,actuserobj:{},ruleForm:{contactName:"",contactTel:"",id:"",name:"",remark:"",status:""},rules:{name:[{required:!0,message:"请输入区域名称",trigger:"blur"}],contactTel:[{required:!0,validator:G,trigger:"blur"}],contactName:[{required:!0,message:"请输入联系人",trigger:"blur"}],status:[{required:!0,message:"请选择状态",trigger:"change"}]},supplylist:[],statuslist:[{id:1,label:"有效"},{id:2,label:"无效"}]}},filters:{fiterstatus:function(e){return 1==e?"有效":"无效"}},watch:{centerDialogVisible:function(){if(!this.centerDialogVisible){for(var e in this.ruleForm)this.ruleForm[e]&&(this.ruleForm[e]="");this.actuserobj={}}}},methods:{getsupplylist:function(e){var t=this;1==e&&(this.pageNum=1);var a="supply?pageNum="+this.pageNum+"&pageSize="+this.pageSize;this.supplierName&&(a+="&name="+this.supplierName),this.loading=!0,this.$http.get(a).then(function(e){t.loading=!1,t.total=e.data.total,e.data.total<1?(t.$message("没有查询到相关数据信息"),t.supplylist=[]):t.supplylist=e.data.data})},handleCurrentChange:function(e){this.pageNum=e,this.getsupplylist()},handleSizeChange:function(e){this.pageSize=e,this.getsupplylist()},openDialog:function(e){this.disval=e,this.centerDialogVisible=!0},handleedit:function(e){this.actuserobj=e,this.getidinfo(e.id),this.openDialog(2)},getidinfo:function(e){var t=this;this.$http.get("supply/"+e).then(function(e){var a=e.data;for(var l in a.remark=a.remark?a.remark:"",a)t.ruleForm[l]=a[l]})},submitForm:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return console.log("error submit!!"),!1;t.savedata()})},resetForm:function(e){this.actuserobj&&this.actuserobj.id?this.getidinfo(this.actuserobj.id):this.$refs[e].resetFields()},savedata:function(){var e=this,t={};for(var a in this.ruleForm)t[a]=this.ruleForm[a];1==this.disval?this.$http.post("supply",t).then(function(t){200==t.status&&(e.$message.success("保存成功"),e.centerDialogVisible=!e.centerDialogVisible,e.getsupplylist())}):2==this.disval&&this.$http.put("supply",t).then(function(t){200==t.status&&(e.$message.success("保存成功"),e.centerDialogVisible=!e.centerDialogVisible,e.getsupplylist())})}},created:function(){this.getsupplylist()}},J={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"supplier_list mainboss"},[a("div",{staticClass:"martop"},[a("div",{staticClass:"topleft"},[a("el-input",{attrs:{placeholder:"供应商名称",clearable:""},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.getsupplylist(1)}},model:{value:e.supplierName,callback:function(t){e.supplierName=t},expression:"supplierName"}}),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.getsupplylist(1)}}},[e._v("搜索")])],1),e._v(" "),a("div",{staticClass:"topright"},[a("el-button",{attrs:{type:"primary",icon:"el-icon-plus"},on:{click:function(t){return e.openDialog(1)}}},[e._v("创建供应商")])],1)]),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:e.supplylist,height:this.$store.state.tableHeight,border:"","element-loading-background":"rgba(0, 0, 0, 0.5)","element-loading-text":"数据正在加载中"}},[a("el-table-column",{attrs:{prop:"name",align:"center",label:"供应商名称"}}),e._v(" "),a("el-table-column",{attrs:{prop:"contactName",align:"center",label:"联系人"}}),e._v(" "),a("el-table-column",{attrs:{prop:"contactTel",align:"center",label:"联系电话"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",label:"状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-tag",{attrs:{type:1==t.row.status?"":"info"}},[e._v(e._s(e._f("fiterstatus")(t.row.status)))])]}}])}),e._v(" "),a("el-table-column",{attrs:{fixed:"right",label:"操作",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"primary",size:"mini",icon:"el-icon-edit"},on:{click:function(a){return e.handleedit(t.row)}}},[e._v("编辑")])]}}])})],1),e._v(" "),a("span",{staticClass:"pagein"},[a("el-pagination",{attrs:{layout:"total, sizes, prev, pager, next, jumper","page-sizes":[15,30,50,100],"page-size":15,total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1),e._v(" "),a("el-dialog",{attrs:{title:1==e.disval?"创建供应商":"编辑供应商",visible:e.centerDialogVisible,"modal-append-to-body":!1,width:"50%",center:""},on:{"update:visible":function(t){e.centerDialogVisible=t}}},[a("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"供应商名称",prop:"name"}},[a("el-input",{attrs:{placeholder:"请输入供应商名称",maxlength:"100",clearable:""},model:{value:e.ruleForm.name,callback:function(t){e.$set(e.ruleForm,"name",t)},expression:"ruleForm.name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"联系人",prop:"contactName"}},[a("el-input",{attrs:{placeholder:"请输入联系人",maxlength:"10",clearable:""},model:{value:e.ruleForm.contactName,callback:function(t){e.$set(e.ruleForm,"contactName",t)},expression:"ruleForm.contactName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"联系电话",prop:"contactTel"}},[a("el-input",{attrs:{placeholder:"请输入联系电话",type:"number",oninput:"if(value.length>11)value=value.slice(0,11)",clearable:""},model:{value:e.ruleForm.contactTel,callback:function(t){e.$set(e.ruleForm,"contactTel",t)},expression:"ruleForm.contactTel"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"状态",prop:"status"}},[a("el-select",{attrs:{placeholder:"请选择状态"},model:{value:e.ruleForm.status,callback:function(t){e.$set(e.ruleForm,"status",t)},expression:"ruleForm.status"}},e._l(e.statuslist,function(e){return a("el-option",{key:e.id,attrs:{label:e.label,value:e.id}})}),1)],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("ruleForm")}}},[e._v("确认保存")]),e._v(" "),a("el-button",{on:{click:function(t){return e.resetForm("ruleForm")}}},[e._v("表单重置")])],1)],1)],1)],1)},staticRenderFns:[]};var ee=a("VU/8")(Q,J,!1,function(e){a("ia63")},null,null).exports,te=a("MJLE"),ae=a.n(te),le=a("2Pnh"),re=a.n(le),ie={name:"equip_list",data:function(){return{isfrist:!0,disval:1,total:0,pageNum:1,pageSize:15,loading:!1,DialogVisible:!1,centerDialogVisible:!0,arealist:[],equiplist:[],hotelList:[],roomlist:[],options:[],goodslist:[],device:[{id:1,label:"6货道"},{id:2,label:"8货道"},{id:3,label:"10货道"}],channestatus:[{id:1,label:"有效"},{id:2,label:"作废"},{id:3,label:"故障"}],statuslist:[{id:1,label:"离线",disabled:!0},{id:2,label:"在线",disabled:!0},{id:3,label:"停用"},{id:4,label:"故障"}],voltagelist:[{id:1,label:">80%"},{id:2,label:"50%~80%"},{id:3,label:"20%~50%"},{id:4,label:"<20%"}],actuserobj:{},term:{serialNo:"",name:"",status:"",voltage:""},channobj:{equipId:"",goodsId:"",id:"",serialNo:"",status:"",stock:""},Formedit:{serialNo:"",name:""},ruleForm:{hotelId:"",id:"",name:"",remark:"",roomId:"",serialNo:"",status:1,type:"",channelList:[]},rules:{name:[{required:!0,message:"请输入设备名称",trigger:"blur"}],serialNo:[{required:!0,message:"请输入设备编号",trigger:"blur"}],roomId:[{required:!0,message:"请选择房间号",trigger:"change"}],hotelId:[{required:!0,message:"请选择酒店名称",trigger:"change"}],status:[{required:!0,message:"请选择设备状态",trigger:"change"}],type:[{required:!0,message:"请选择设备类型",trigger:"change"}],goodsId:[{required:!0,message:"请选择货道商品",trigger:"change"}],channstatus:[{required:!0,message:"请选择货道状态",trigger:"change"}]},newrules:{cheackgoods:[{required:!0,message:"请选择货道商品",trigger:["blur","change"]}],cheackstatus:[{required:!0,message:"请选择货道状态",trigger:["blur","change"]}]}}},watch:{centerDialogVisible:function(){if(!this.centerDialogVisible){for(var e in this.ruleForm)this.ruleForm[e]&&(this.ruleForm[e]="");this.ruleForm.channelList=[],this.actuserobj={}}},DialogVisible:function(){if(!this.DialogVisible)for(var e in this.Formedit)this.Formedit[e]=""},"ruleForm.hotelId":{handler:function(e){e?this.getroomlist(e):(this.roomlist=[],this.ruleForm.roomId&&(this.ruleForm.roomId=""))}},"ruleForm.type":{handler:function(e){e?this.setchannelList(e):this.ruleForm.channelList=[]},deep:!0}},filters:{fitertype:function(e){return 1==e?"6货道":2==e?"8货道":3==e?"10货道":void 0},fiterstatus:function(e){return 1==e?"离线":2==e?"在线":3==e?"停用":4==e?"故障":void 0},flterserialno:function(e){if(e)return e.substring(e.length-8)},fitervoltage:function(e){return 1==e?">80%":2==e?"50%~80%":3==e?"20%~50%":4==e?"<20%":void 0}},methods:{getarea:function(){var e=this;this.options.length<1&&this.$http.get("equip/areaList").then(function(t){var a=[];for(var l in t.data){var r={};r.value=t.data[l].id,r.label=t.data[l].name,r.children=[],a.push(r)}e.options=a})},handleItemChange:function(e){this.gethotel(e[0])},gethotel:function(e){var t=this;this.$http.get("equip/hotelList/"+e).then(function(a){var l=[];for(var r in t.options)if(e==t.options[r].value){for(var i in a.data){var n={};n.value=a.data[i].id,n.label=a.data[i].name,l.push(n)}t.options[r].children=l}})},handlechange:function(e){this.centerDialogVisible?this.ruleForm.hotelId=e[1]:this.term.hotelId=e[1]},getroomlist:function(e){var t=this;this.$http.get("equip/roomlList/"+e).then(function(e){t.roomlist=e.data})},getgoods:function(){var e=this;this.goodslist.length<1&&this.$http.get("equip/goods").then(function(t){e.goodslist=t.data})},getequiplist:function(e){var t=this;1==e&&(this.pageNum=1);var a="equip?pageNum="+this.pageNum+"&pageSize="+this.pageSize;for(var l in this.term)this.term[l]&&(a+="&"+l+"="+this.term[l]);this.$http.get(a).then(function(e){var a=e.data.data;t.equiplist=a,t.total=e.data.total})},handleCurrentChange:function(e){this.pageNum=e,this.getequiplist()},handleSizeChange:function(e){this.pageSize=e,this.getequiplist()},openDialog:function(e){this.getgoods();var t=this;if(this.disval=e,this.centerDialogVisible=!this.centerDialogVisible,3==e){var a=document.getElementById("qrcode");new ae.a(a);document.getElementById("qrcode").innerHTML="",setTimeout(function(){t.qrcode()},100)}},handleedit:function(e){this.getidinfo(e.id),this.openDialog(2),this.actuserobj=e},handlecopy:function(e){this.actuserobj=e,this.DialogVisible=!0},handleqrcode:function(e){this.isfrist=!1,this.actuserobj=e,this.getidinfo(e.id),this.openDialog(3)},getidinfo:function(e){var t=this;this.$http.get("equip/"+e).then(function(e){var a=e.data;for(var l in t.actuserobj.children=a,a.type=Number(a.type),a)for(var r in a.channelList)a.channelList[r].serialNo=Number(a.channelList[r].serialNo),a.channelList[r].stock=Number(a.channelList[r].stock);for(var i in a.channelList.sort(function(e,t){return e.serialNo<t.serialNo?-1:e.serialNo>t.serialNo?1:0}),a.remark=a.remark?a.remark:"",a)t.ruleForm[i]=a[i]})},submitForm:function(e){var t=this;2==this.disval&&delete this.ruleForm.channelList,this.$refs[e].validate(function(a){if(!a)return console.log("error submit!!"),!1;"Formedit"==e?t.savecopy():"ruleForm"==e&&t.savedata()})},resetForm:function(e){this.actuserobj&&this.actuserobj.id?this.getidinfo(this.actuserobj.id):(this.$refs[e].resetFields(),this.ruleForm.remark="")},savecopy:function(){var e,t=this;e={id:this.actuserobj.id,serialNo:this.Formedit.serialNo,name:this.Formedit.name},this.$http.post("equip/copy",e).then(function(e){t.$message.success("操作成功"),t.getequiplist(),t.DialogVisible=!1})},savedata:function(){var e=this,t={};for(var a in this.ruleForm)this.ruleForm[a]&&(t[a]=this.ruleForm[a]);1==this.disval?this.$http.post("equip",t).then(function(t){200==t.status&&(e.$message.success("保存成功"),e.centerDialogVisible=!e.centerDialogVisible,e.getequiplist())}):2==this.disval&&this.$http.put("equip",t).then(function(t){200==t.status&&(e.$message.success("保存成功"),e.centerDialogVisible=!e.centerDialogVisible,e.getequiplist())})},handlesave:function(e){var t=this,a={};e.goodsId?e.status?(a={goodsId:e.goodsId,id:e.id,status:e.status},this.$http.put("equip/channel",a).then(function(e){200==e.status&&t.$message.success("保存成功")})):this.$message.error("请选择状态"):this.$message.error("请选择商品")},setchannelList:function(e){var t=0;1==e?t=6:2==e?t=8:3==e&&(t=10);var a=Number(t)-Number(this.ruleForm.channelList.length);if(a>0)for(var l=0;l<a;l++){var r={goodsId:"",serialNo:Number(this.ruleForm.channelList.length)+1,status:"",stock:Number(this.ruleForm.channelList.length)+1};this.ruleForm.channelList.push(r)}else for(var i=Math.abs(a),n=0;n<i;n++)this.ruleForm.channelList.pop()},qrcode:function(){new ae.a("qrcode",{width:114,height:114,text:this.$GLOBAL.qrAPI+this.actuserobj.serialNo})},downloadImg:function(){var e=this;re()(document.querySelector("#imageWrapper")).then(function(t){var a=t.toDataURL("image/png"),l=document.createElement("a"),r=new MouseEvent("click");l.download=e.actuserobj.name,l.href=a,l.dispatchEvent(r)})}},created:function(){this.getequiplist();var e=this;setTimeout(function(){e.centerDialogVisible=!1},10)}},ne={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"equip_list mainboss"},[a("div",{staticClass:"martop"},[a("div",{staticClass:"topleft"},[a("el-input",{attrs:{placeholder:"请输入设备名称",clearable:""},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.getequiplist(1)}},model:{value:e.term.name,callback:function(t){e.$set(e.term,"name",t)},expression:"term.name"}}),e._v(" "),a("el-input",{attrs:{placeholder:"请输入设备编号",clearable:""},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.getequiplist(1)}},model:{value:e.term.serialNo,callback:function(t){e.$set(e.term,"serialNo",t)},expression:"term.serialNo"}}),e._v(" "),a("el-select",{attrs:{clearable:"",filterable:"",placeholder:"请选择状态"},model:{value:e.term.status,callback:function(t){e.$set(e.term,"status",t)},expression:"term.status"}},e._l(e.statuslist,function(e){return a("el-option",{key:e.id,attrs:{label:e.label,value:e.id}})}),1),e._v(" "),a("el-select",{attrs:{clearable:"",filterable:"",placeholder:"请选择电压量"},model:{value:e.term.voltage,callback:function(t){e.$set(e.term,"voltage",t)},expression:"term.voltage"}},e._l(e.voltagelist,function(e){return a("el-option",{key:e.id,attrs:{label:e.label,value:e.id}})}),1),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.getequiplist(1)}}},[e._v("搜索")])],1),e._v(" "),a("div",{staticClass:"topright"},[a("el-button",{attrs:{type:"primary",icon:"el-icon-plus"},on:{click:function(t){return e.openDialog(1)}}},[e._v("创建设备")])],1)]),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:e.equiplist,height:this.$store.state.tableHeight,border:"","element-loading-background":"rgba(0, 0, 0, 0.5)","element-loading-text":"数据正在加载中"}},[a("el-table-column",{attrs:{prop:"serialNo",align:"center",label:"设备编号"}}),e._v(" "),a("el-table-column",{attrs:{prop:"name",align:"center",label:"设备名称"}}),e._v(" "),a("el-table-column",{attrs:{prop:"hotelName",align:"center",label:"所在酒店"}}),e._v(" "),a("el-table-column",{attrs:{prop:"roomNo",align:"center",label:"所在房间"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",label:"货道数量"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e._f("fitertype")(t.row.type)))]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"center",label:"设备电量"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e._f("fitervoltage")(t.row.voltage)))]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"updateTime",align:"center",label:"上次更新时间"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",label:"状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e._f("fiterstatus")(t.row.status)))]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center",width:"300"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"primary",size:"mini",icon:"el-icon-edit"},on:{click:function(a){return e.handleedit(t.row)}}},[e._v("编辑")]),e._v(" "),a("el-button",{attrs:{type:"primary",size:"mini",icon:"el-icon-tickets"},on:{click:function(a){return e.handlecopy(t.row)}}},[e._v("复制")]),e._v(" "),a("el-button",{attrs:{type:"primary",size:"mini",icon:"el-icon-menu"},on:{click:function(a){return e.handleqrcode(t.row)}}},[e._v("二维码")])]}}])})],1),e._v(" "),a("span",{staticClass:"pagein"},[a("el-pagination",{attrs:{layout:"total, sizes, prev, pager, next, jumper","page-sizes":[15,30,50,100],"page-size":15,total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1),e._v(" "),a("el-dialog",{attrs:{title:3==e.disval?"设备二维码":1==e.disval?"创建设备":"编辑设备",visible:e.centerDialogVisible,top:e.isfrist?"-100%":3==e.disval?"5%":"1%","modal-append-to-body":!1,width:3==e.disval?"14%":"70%",center:""},on:{"update:visible":function(t){e.centerDialogVisible=t}}},[e.centerDialogVisible?a("el-form",{directives:[{name:"show",rawName:"v-show",value:3!=e.disval,expression:"disval !=3"}],ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"100px"}},[a("fieldset",[a("legend",[e._v("设备信息")]),e._v(" "),a("el-form-item",{attrs:{label:"设备编号",required:""}},[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{prop:"serialNo"}},[a("el-input",{attrs:{placeholder:"请输入设备编号",disabled:2==e.disval,oninput:"if(value.length>64)value=value.slice(0,64)",clearable:""},model:{value:e.ruleForm.serialNo,callback:function(t){e.$set(e.ruleForm,"serialNo",t)},expression:"ruleForm.serialNo"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"设备名称",prop:"name"}},[a("el-input",{attrs:{placeholder:"请输入设备名称",maxlength:"256",clearable:""},model:{value:e.ruleForm.name,callback:function(t){e.$set(e.ruleForm,"name",t)},expression:"ruleForm.name"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"所在酒店",prop:"hotelId"}},[a("el-cascader",{attrs:{placeholder:e.actuserobj.hotelName,"show-all-levels":!1,options:e.options,filterable:"",clearable:""},on:{focus:e.getarea,"active-item-change":e.handleItemChange,change:e.handlechange}})],1)],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"所在房间",required:""}},[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"",prop:"roomId"}},[a("el-select",{attrs:{clearable:"",filterable:"",placeholder:"请输入所在酒店"},model:{value:e.ruleForm.roomId,callback:function(t){e.$set(e.ruleForm,"roomId",t)},expression:"ruleForm.roomId"}},e._l(e.roomlist,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}),1)],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"设备类型",prop:"type"}},[a("el-select",{attrs:{placeholder:"请选择设备类型"},model:{value:e.ruleForm.type,callback:function(t){e.$set(e.ruleForm,"type",t)},expression:"ruleForm.type"}},e._l(e.device,function(e){return a("el-option",{key:e.id,attrs:{label:e.label,value:e.id}})}),1)],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:2==e.disval,expression:"disval == 2"}],attrs:{label:"设备状态"}},[a("el-select",{attrs:{placeholder:"请选择设备状态"},model:{value:e.ruleForm.status,callback:function(t){e.$set(e.ruleForm,"status",t)},expression:"ruleForm.status"}},e._l(e.statuslist,function(e){return a("el-option",{key:e.id,attrs:{label:e.label,value:e.id,disabled:e.disabled}})}),1)],1)],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"备注"}},[a("el-input",{attrs:{type:"textarea",rows:2,placeholder:"请输入备注",maxlength:"500",clearable:""},model:{value:e.ruleForm.remark,callback:function(t){e.$set(e.ruleForm,"remark",t)},expression:"ruleForm.remark"}})],1),e._v(" "),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:2==e.disval,expression:"disval == 2"}]},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("ruleForm")}}},[e._v("确认保存")])],1)],1),e._v(" "),e.ruleForm.type?a("fieldset",[a("legend",[e._v("货道信息")]),e._v(" "),e._l(e.ruleForm.channelList,function(t,l){return a("el-form-item",{key:l,attrs:{label:"货道编号"}},[a("el-col",{attrs:{span:6}},[a("el-form-item",[a("el-input",{attrs:{placeholder:"请输入设备编号",type:"number",disabled:!0,clearable:""},model:{value:t.serialNo,callback:function(a){e.$set(t,"serialNo",a)},expression:"item.serialNo"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:7}},[a("el-form-item",{attrs:{label:"货道商品",prop:"channelList."+l+".goodsId",rules:e.newrules.cheackgoods}},[a("el-select",{attrs:{clearable:"",filterable:"",placeholder:"请选择商品"},model:{value:t.goodsId,callback:function(a){e.$set(t,"goodsId",a)},expression:"item.goodsId"}},e._l(e.goodslist,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}),1)],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"货道状态",prop:"channelList."+l+".status",rules:e.newrules.cheackstatus}},[a("el-select",{attrs:{placeholder:"请选择货道状态"},model:{value:t.status,callback:function(a){e.$set(t,"status",a)},expression:"item.status"}},e._l(e.channestatus,function(e){return a("el-option",{key:e.id,attrs:{label:e.label,value:e.id}})}),1)],1)],1),e._v(" "),a("el-col",{directives:[{name:"show",rawName:"v-show",value:2==e.disval,expression:"disval ==2"}],attrs:{span:3}},[a("el-button",{attrs:{type:"primary",size:"mini",icon:"el-icon-edit"},on:{click:function(a){return e.handlesave(t)}}},[e._v("保存")])],1)],1)})],2):e._e(),e._v(" "),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:1==e.disval,expression:"disval == 1"}]},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("ruleForm")}}},[e._v("确认保存")]),e._v(" "),a("el-button",{on:{click:function(t){return e.resetForm("ruleForm")}}},[e._v("表单重置")])],1)],1):e._e(),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:3==e.disval,expression:"disval ==3"}]},[a("div",{ref:"imageWrapper",staticClass:"qrimg imageWrapper",attrs:{id:"imageWrapper"}},[a("div",{ref:"qrcode",attrs:{id:"qrcode"}}),e._v(" "),e._t("default",[e._v(e._s(e.actuserobj.serialNo))])],2),e._v(" "),a("el-button",{staticClass:"doloadbut",attrs:{type:"primary"},on:{click:e.downloadImg}},[e._v("下载二维码")])],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"请输入新设备，并确认保存",visible:e.DialogVisible,"modal-append-to-body":!1,top:"5%",width:"40%",center:""},on:{"update:visible":function(t){e.DialogVisible=t}}},[a("el-form",{ref:"Formedit",staticClass:"demo-ruleForm",attrs:{model:e.Formedit,rules:e.rules,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"设备编号",prop:"serialNo"}},[a("el-input",{attrs:{placeholder:"请输入设备编号",oninput:"if(value.length>64)value=value.slice(0,64)",clearable:""},model:{value:e.Formedit.serialNo,callback:function(t){e.$set(e.Formedit,"serialNo",t)},expression:"Formedit.serialNo"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"设备名称",prop:"name"}},[a("el-input",{attrs:{placeholder:"请输入设备名称",maxlength:"256",clearable:""},model:{value:e.Formedit.name,callback:function(t){e.$set(e.Formedit,"name",t)},expression:"Formedit.name"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("Formedit")}}},[e._v("确认保存")]),e._v(" "),a("el-button",{on:{click:function(t){return e.resetForm("Formedit")}}},[e._v("表单重置")])],1)],1)],1)],1)},staticRenderFns:[]};var se=a("VU/8")(ie,ne,!1,function(e){a("l8ny")},null,null).exports,oe={name:"FirstEquipList",data:function(){return{total:0,pageNum:1,pageSize:15,loading:!1,term:{name:"",serialNo:"",status:""},equiplist:[],statuslist:[{id:1,label:"离线"},{id:2,label:"在线"},{id:3,label:"停用"}]}},filters:{fiterstatus:function(e){return 1==e?"离线":2==e?"在线":3==e?"停用":void 0}},methods:{getequiplist:function(e){var t=this;1==e&&(this.pageNum=1);var a="equipInitial?pageNum="+this.pageNum+"&pageSize="+this.pageSize;for(var l in this.term)this.term[l]&&(a+="&"+l+"="+this.term[l]);this.loading=!0,this.$http.get(a).then(function(e){t.loading=!1,t.equiplist=e.data.data,t.total=e.data.total})},handleCurrentChange:function(e){this.pageNum=e,this.getequiplist()},handleSizeChange:function(e){this.pageSize=e,this.getequiplist()}},created:function(){console.log("fdasfds"),this.getequiplist()}},ue={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"FirstEquipList mainboss"},[a("div",{staticClass:"martop"},[a("div",{staticClass:"topleft"},[a("el-input",{attrs:{placeholder:"设备名称",clearable:""},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.getequiplist(1)}},model:{value:e.term.name,callback:function(t){e.$set(e.term,"name",t)},expression:"term.name"}}),e._v(" "),a("el-input",{attrs:{placeholder:"设备编号",clearable:""},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.getequiplist(1)}},model:{value:e.term.serialNo,callback:function(t){e.$set(e.term,"serialNo",t)},expression:"term.serialNo"}}),e._v(" "),a("el-select",{attrs:{clearable:"",filterable:"",placeholder:"请选择设备状态"},model:{value:e.term.status,callback:function(t){e.$set(e.term,"status",t)},expression:"term.status"}},e._l(e.statuslist,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.id}})}),1),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.getequiplist(1)}}},[e._v("搜索")])],1)]),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:e.equiplist,height:this.$store.state.tableHeight,border:"","element-loading-background":"rgba(0, 0, 0, 0.5)","element-loading-text":"数据正在加载中"}},[a("el-table-column",{attrs:{prop:"serialNo",align:"center",label:"设备编号"}}),e._v(" "),a("el-table-column",{attrs:{prop:"name",align:"center",label:"设备名称"}}),e._v(" "),a("el-table-column",{attrs:{prop:"hotelName",align:"center",label:"所在酒店"}}),e._v(" "),a("el-table-column",{attrs:{prop:"roomNo",align:"center",label:"所在房间"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",label:"货道数量"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n        "+e._s("1"==t.row.type?"6货道":"2"==t.row.type?"8货道":"10货道")+"\n      ")]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"center",label:"设备状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-tag",{attrs:{type:1==t.row.status?"":"info"}},[e._v(e._s(e._f("fiterstatus")(t.row.status)))])]}}])})],1),e._v(" "),a("span",{staticClass:"pagein"},[a("el-pagination",{attrs:{layout:"total, sizes, prev, pager, next, jumper","page-sizes":[15,30,50,100],"page-size":15,total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)},staticRenderFns:[]};var ce=a("VU/8")(oe,ue,!1,function(e){a("66YK")},null,null).exports,me=function(e,t,a){(t*=1)||a(new Error("请输入房间面积")),setTimeout(function(){T()(t)?t<0?a(new Error("房间面积不应该小于0")):j()(t)?a():-1!=(t+=" ").indexOf(".")&&(t.split(".")[1].length>3?a(new Error("房间面积最多有两位小数")):a()):a(new Error("房间面积应该是一个大于数的数字"))},100)},de={name:"room_list",data:function(){return{disval:1,total:0,pageNum:1,pageSize:15,loading:!1,centerDialogVisible:!1,options:[],roomlist:[],hotellist:[],statuslist:[{id:1,label:"有效"},{id:2,label:"作废"}],typelist:[{id:1,label:"单人间"},{id:2,label:"标准间"},{id:3,label:"大床间"},{id:4,label:"三人间"},{id:5,label:"套间"}],actuserobj:{},term:{type:"",serialNo:"",hotelId:""},ruleForm:{area:"",hotelId:"",id:"",remark:"",serialNo:"",status:"",type:""},rules:{hotelId:[{required:!0,message:"请选择酒店",trigger:"change"}],serialNo:[{required:!0,message:"请选择房间编号",trigger:"blur"}],area:[{required:!0,validator:me,trigger:"blur"}],type:[{required:!0,message:"请选择房间类型",trigger:"change"}],status:[{required:!0,message:"请选择状态",trigger:"change"}]}}},filters:{fiterstatus:function(e){return 1==e?"有效":"无效"},fitertype:function(e){return 1==e?"单人间":2==e?"标准间":3==e?"大床间":4==e?"三人间":5==e?"套间":"其它"}},watch:{centerDialogVisible:function(){if(!this.centerDialogVisible){for(var e in this.ruleForm)this.ruleForm[e]="";this.actuserobj={}}}},methods:{toback:function(){this.$router.push({path:"/hotel/list",query:{}})},getarea:function(){var e=this;this.options.length<1&&this.$http.get("room/areaList").then(function(t){var a=[];for(var l in t.data){var r={};r.value=t.data[l].id,r.label=t.data[l].name,r.children=[],a.push(r)}e.options=a})},handleItemChange:function(e){this.gethotel(e[0])},gethotel:function(e){var t=this;this.$http.get("room/hotelList/"+e).then(function(a){var l=[];for(var r in t.options)if(e==t.options[r].value){for(var i in a.data){var n={};n.value=a.data[i].id,n.label=a.data[i].name,l.push(n)}t.options[r].children=l}})},handlechange:function(e){this.centerDialogVisible?this.ruleForm.hotelId=e[1]:this.term.hotelId=e[1]},getroomlist:function(e){var t=this;1==e&&(this.pageNum=1);var a="room?pageNum="+this.pageNum+"&pageSize="+this.pageSize;for(var l in this.term)this.term[l]&&(a+="&"+l+"="+this.term[l]);this.$http.get(a).then(function(e){var a=e.data.data;for(var l in a)1==a[l].status?a[l].status=!0:a[l].status=!1;t.roomlist=a,t.total=e.data.total})},handleCurrentChange:function(e){this.pageNum=e,this.getroomlist()},handleSizeChange:function(e){this.pageSize=e,this.getroomlist()},changestatus:function(e){var t=this,a={status:"",id:e.id};e.status?a.status=1:a.status=0,this.$http.put("room/status",a).then(function(e){200==e.status&&t.$message.success("修改成功")})},openDialog:function(e){this.disval=e,this.centerDialogVisible=!this.centerDialogVisible},handleedit:function(e){this.getidinfo(e.id),this.openDialog(2),this.actuserobj=e},getidinfo:function(e){var t=this;this.$http.get("room/"+e).then(function(e){var a=e.data;for(var l in t.actuserobj.children=a,a.remark=a.remark?a.remark:"",a)t.ruleForm[l]=a[l]})},submitForm:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return console.log("error submit!!"),!1;t.savedata()})},resetForm:function(e){this.actuserobj&&this.actuserobj.id?this.getidinfo(this.actuserobj.id):(this.$refs[e].resetFields(),this.ruleForm.remark="")},savedata:function(){var e=this,t={};for(var a in this.ruleForm)this.ruleForm[a]&&(t[a]=this.ruleForm[a]);1==this.disval?this.$http.post("room",t).then(function(t){200==t.status&&(e.$message.success("保存成功"),e.centerDialogVisible=!e.centerDialogVisible,e.getroomlist())}):2==this.disval&&this.$http.put("room",t).then(function(t){200==t.status&&(e.$message.success("保存成功"),e.centerDialogVisible=!e.centerDialogVisible,e.getroomlist())})}},created:function(){this.$route.query&&this.$route.query.id&&(this.term.hotelId=this.$route.query.id),this.getroomlist()}},he={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"room_list mainboss"},[a("div",{staticClass:"martop"},[a("div",{staticClass:"topleft"},[a("el-button",{attrs:{icon:"el-icon-d-arrow-left",circle:""},on:{click:e.toback}}),e._v(" "),a("el-input",{attrs:{placeholder:"请输入房间编号",clearable:""},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.getroomlist(1)}},model:{value:e.term.serialNo,callback:function(t){e.$set(e.term,"serialNo",t)},expression:"term.serialNo"}}),e._v(" "),a("el-select",{attrs:{clearable:"",filterable:"",placeholder:"请选择类型"},model:{value:e.term.type,callback:function(t){e.$set(e.term,"type",t)},expression:"term.type"}},e._l(e.typelist,function(e){return a("el-option",{key:e.id,attrs:{label:e.label,value:e.id}})}),1),e._v(" "),a("el-cascader",{attrs:{placeholder:e.$route.query.name?e.$route.query.name:"选择区域酒店","show-all-levels":!1,options:e.options,filterable:"",clearable:""},on:{focus:e.getarea,"active-item-change":e.handleItemChange,change:e.handlechange}}),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.getroomlist(1)}}},[e._v("搜索")])],1),e._v(" "),a("div",{staticClass:"topright"},[a("el-button",{attrs:{type:"primary",icon:"el-icon-plus"},on:{click:function(t){return e.openDialog(1)}}},[e._v("创建房间")])],1)]),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:e.roomlist,height:this.$store.state.tableHeight,border:"","element-loading-background":"rgba(0, 0, 0, 0.5)","element-loading-text":"数据正在加载中"}},[a("el-table-column",{attrs:{prop:"hotelName",align:"center",label:"所属酒店"}}),e._v(" "),a("el-table-column",{attrs:{prop:"serialNo",align:"center",label:"房间编号"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",label:"房间类型"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e._f("fitertype")(t.row.type)))]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"area",align:"center",label:"房间面积（m2）"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",label:"状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-switch",{attrs:{"active-text":"","inactive-text":""},on:{change:function(a){return e.changestatus(t.row)}},model:{value:t.row.status,callback:function(a){e.$set(t.row,"status",a)},expression:"scope.row.status"}})]}}])}),e._v(" "),a("el-table-column",{attrs:{fixed:"right",label:"操作",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{disabled:!t.row.status,type:"primary",size:"mini",icon:"el-icon-edit"},on:{click:function(a){return e.handleedit(t.row)}}},[e._v("编辑")])]}}])})],1),e._v(" "),a("span",{staticClass:"pagein"},[a("el-pagination",{attrs:{layout:"total, sizes, prev, pager, next, jumper","page-sizes":[15,30,50,100],"page-size":15,total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1),e._v(" "),a("el-dialog",{attrs:{title:1==e.disval?"创建房间":"编辑房间",visible:e.centerDialogVisible,"modal-append-to-body":!1,width:"50%",center:""},on:{"update:visible":function(t){e.centerDialogVisible=t}}},[e.centerDialogVisible?a("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"酒店名称",prop:"hotelId"}},[a("el-cascader",{attrs:{placeholder:e.actuserobj.hotelName,"show-all-levels":!1,options:e.options,filterable:"",clearable:""},on:{focus:e.getarea,"active-item-change":e.handleItemChange,change:e.handlechange}})],1),e._v(" "),a("el-form-item",{attrs:{label:"房间编号",prop:"serialNo"}},[a("el-input",{attrs:{placeholder:"请输入房间编号",oninput:"if(value.length>50)value=value.slice(0,50)",clearable:""},model:{value:e.ruleForm.serialNo,callback:function(t){e.$set(e.ruleForm,"serialNo",t)},expression:"ruleForm.serialNo"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"房间面积",prop:"area"}},[a("el-input",{attrs:{placeholder:"请输入房间面积（m2）",type:"number",oninput:"if(value.length>16)value=value.slice(0,16)",clearable:""},model:{value:e.ruleForm.area,callback:function(t){e.$set(e.ruleForm,"area",t)},expression:"ruleForm.area"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"房间类型",prop:"type"}},[a("el-select",{attrs:{placeholder:"请选择房间类型"},model:{value:e.ruleForm.type,callback:function(t){e.$set(e.ruleForm,"type",t)},expression:"ruleForm.type"}},e._l(e.typelist,function(e){return a("el-option",{key:e.id,attrs:{label:e.label,value:e.id}})}),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"状态",prop:"status"}},[a("el-select",{attrs:{placeholder:"请选择状态"},model:{value:e.ruleForm.status,callback:function(t){e.$set(e.ruleForm,"status",t)},expression:"ruleForm.status"}},e._l(e.statuslist,function(e){return a("el-option",{key:e.id,attrs:{label:e.label,value:e.id}})}),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"备注"}},[a("el-input",{attrs:{type:"textarea",rows:2,placeholder:"请输入备注",maxlength:"500",clearable:""},model:{value:e.ruleForm.remark,callback:function(t){e.$set(e.ruleForm,"remark",t)},expression:"ruleForm.remark"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("ruleForm")}}},[e._v("确认保存")]),e._v(" "),a("el-button",{on:{click:function(t){return e.resetForm("ruleForm")}}},[e._v("表单重置")])],1)],1):e._e()],1)],1)},staticRenderFns:[]};var pe=a("VU/8")(de,he,!1,function(e){a("i9VA")},null,null).exports,ge=function(e,t,a){(t*=1)||a(new Error("请输入房间数")),setTimeout(function(){T()(t)?t<0?a(new Error("房间数不应该是小于0")):j()(t)?a():a(new Error("房间数应该是一个正整数")):a(new Error("房间数应该是一个正整数"))},100)},fe=function(e,t,a){var l=/^0\d{2,3}-?\d{7,8}$/,r=/^(((13[0-9]{1})|(15[0-9]{1})|(18[0-9]{1}))+\d{8})$/;if(!t)return a(new Error("电话号码不能为空"));setTimeout(function(){j()(+t)?l.test(t)?a():r.test(t)?a():a(new Error("电话号码格式不正确")):a(new Error("请输入数字值"))},100)},ve={name:"hotel_list",data:function(){return{disval:1,total:0,pageNum:1,pageSize:15,loading:!1,centerDialogVisible:!1,term:{type:"",name:"",status:""},arealist:[],hotellist:[],statuslist:[{id:1,label:"有效"},{id:2,label:"作废"}],typelist:[{id:1,label:"学生"},{id:2,label:"商务"},{id:3,label:"情趣"},{id:4,label:"主题"}],ruleForm:{address:"",areaId:"",contactName:"",contactTel:"",id:"",name:"",remark:"",roomNo:"",serviceTel:"",status:"",type:""},rules:{name:[{required:!0,message:"请输入酒店名称",trigger:"blur"}],address:[{required:!0,message:"请输入酒店地址",trigger:"blur"}],roomNo:[{required:!0,validator:ge,trigger:"blur"}],contactName:[{required:!0,message:"请输入联系人",trigger:"blur"}],contactTel:[{required:!0,validator:fe,trigger:"blur"}],serviceTel:[{required:!0,validator:fe,trigger:"blur"}],areaId:[{required:!0,message:"请选择所属区域",trigger:"change"}],type:[{required:!0,message:"请选择类型",trigger:"change"}],status:[{required:!0,message:"请选择状态",trigger:"change"}]}}},watch:{centerDialogVisible:function(){if(!this.centerDialogVisible){for(var e in this.ruleForm)this.ruleForm[e]&&(this.ruleForm[e]="");this.actuserobj={}}}},filters:{fiterstatus:function(e){return 1==e?"有效":"无效"},fitertype:function(e){return 1==e?"学生":2==e?"商务":3==e?"情趣":4==e?"主题":"其它"}},methods:{getarealist:function(){var e=this;this.$http.get("hotel/area").then(function(t){e.arealist=t.data})},gethotellist:function(e){var t=this;1==e&&(this.pageNum=1);var a="hotel?pageNum="+this.pageNum+"&pageSize="+this.pageSize;for(var l in this.term)this.term[l]&&(a+="&"+l+"="+this.term[l]);this.$http.get(a).then(function(e){var a=e.data.data;for(var l in a)1==a[l].status?a[l].status=!0:a[l].status=!1;t.hotellist=a,t.total=e.data.total})},handleCurrentChange:function(e){this.pageNum=e,this.gethotellist()},handleSizeChange:function(e){this.pageSize=e,this.gethotellist()},changestatus:function(e){var t=this,a={status:"",id:e.id};e.status?a.status=1:a.status=0,this.$http.put("hotel/status",a).then(function(e){200==e.status&&t.$message.success("修改成功")})},openDialog:function(e){this.disval=e,this.centerDialogVisible=!this.centerDialogVisible},handleedit:function(e){this.arealist.length<1&&this.getarealist(),this.getidinfo(e.id),this.openDialog(2),this.actuserobj=e},handleroom:function(e){this.$router.push({path:"/hotel/room/list",query:e})},getidinfo:function(e){var t=this;this.$http.get("hotel/"+e).then(function(e){var a=e.data;for(var l in a.type=Number(a.type),a.remark=a.remark?a.remark:"",a)t.ruleForm[l]=a[l]})},submitForm:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return console.log("error submit!!"),!1;t.savedata()})},resetForm:function(e){this.actuserobj&&this.actuserobj.id?this.getidinfo(this.actuserobj.id):(this.$refs[e].resetFields(),this.ruleForm.remark="")},savedata:function(){var e=this,t={};for(var a in this.ruleForm)this.ruleForm[a]&&(t[a]=this.ruleForm[a]);1==this.disval?this.$http.post("hotel",t).then(function(t){200==t.status&&(e.$message.success("保存成功"),e.centerDialogVisible=!e.centerDialogVisible,e.gethotellist())}):2==this.disval&&this.$http.put("hotel",t).then(function(t){200==t.status&&(e.$message.success("保存成功"),e.centerDialogVisible=!e.centerDialogVisible,e.gethotellist())})}},created:function(){this.gethotellist()}},be={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"hotel_list mainboss"},[a("div",{staticClass:"martop"},[a("div",{staticClass:"topleft"},[a("el-input",{attrs:{placeholder:"请输入酒店名称",clearable:""},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.gethotellist(1)}},model:{value:e.term.name,callback:function(t){e.$set(e.term,"name",t)},expression:"term.name"}}),e._v(" "),a("el-select",{attrs:{clearable:"",filterable:"",placeholder:"请选择类型"},model:{value:e.term.type,callback:function(t){e.$set(e.term,"type",t)},expression:"term.type"}},e._l(e.typelist,function(e){return a("el-option",{key:e.id,attrs:{label:e.label,value:e.id}})}),1),e._v(" "),a("el-select",{attrs:{clearable:"",filterable:"",placeholder:"请选择类型"},model:{value:e.term.status,callback:function(t){e.$set(e.term,"status",t)},expression:"term.status"}},e._l(e.statuslist,function(e){return a("el-option",{key:e.name,attrs:{label:e.label,value:e.id}})}),1),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.gethotellist(1)}}},[e._v("搜索")])],1),e._v(" "),a("div",{staticClass:"topright"},[a("el-button",{attrs:{type:"primary",icon:"el-icon-plus"},on:{click:function(t){return e.openDialog(1)}}},[e._v("创建酒店")])],1)]),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:e.hotellist,height:this.$store.state.tableHeight,border:"","element-loading-background":"rgba(0, 0, 0, 0.5)","element-loading-text":"数据正在加载中"}},[a("el-table-column",{attrs:{prop:"name",align:"center",label:"酒店名称"}}),e._v(" "),a("el-table-column",{attrs:{prop:"address",align:"center",label:"酒店地址"}}),e._v(" "),a("el-table-column",{attrs:{prop:"roomNo",align:"center",label:"房间数"}}),e._v(" "),a("el-table-column",{attrs:{prop:"contactName",align:"center",label:"联系人"}}),e._v(" "),a("el-table-column",{attrs:{prop:"contactTel",align:"center",label:"联系电话"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",label:"类型"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e._f("fitertype")(t.row.type)))]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"serviceTel",align:"center",label:"客服电话"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",label:"状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-switch",{attrs:{"active-text":"","inactive-text":""},on:{change:function(a){return e.changestatus(t.row)}},model:{value:t.row.status,callback:function(a){e.$set(t.row,"status",a)},expression:"scope.row.status"}})]}}])}),e._v(" "),a("el-table-column",{attrs:{fixed:"right",label:"操作",align:"center",width:"190"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{disabled:!t.row.status,type:"primary",size:"mini",icon:"el-icon-edit"},on:{click:function(a){return e.handleedit(t.row)}}},[e._v("编辑")]),e._v(" "),a("el-button",{attrs:{type:"primary",size:"mini",icon:"el-icon-menu"},on:{click:function(a){return e.handleroom(t.row)}}},[e._v("房间")])]}}])})],1),e._v(" "),a("span",{staticClass:"pagein"},[a("el-pagination",{attrs:{layout:"total, sizes, prev, pager, next, jumper","page-sizes":[15,30,50,100],"page-size":15,total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1),e._v(" "),a("el-dialog",{attrs:{title:1==e.disval?"创建酒店":"编辑酒店",visible:e.centerDialogVisible,"modal-append-to-body":!1,top:"3%",width:"50%",center:""},on:{"update:visible":function(t){e.centerDialogVisible=t}}},[a("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"酒店名称",prop:"name"}},[a("el-input",{attrs:{placeholder:"请输入酒店名称",maxlength:"100",clearable:""},model:{value:e.ruleForm.name,callback:function(t){e.$set(e.ruleForm,"name",t)},expression:"ruleForm.name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"酒店地址",prop:"address"}},[a("el-input",{attrs:{placeholder:"请输入酒店地址",maxlength:"200",clearable:""},model:{value:e.ruleForm.address,callback:function(t){e.$set(e.ruleForm,"address",t)},expression:"ruleForm.address"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"房间数",prop:"roomNo"}},[a("el-input",{attrs:{placeholder:"请输入房间数",type:"number",oninput:"if(value.length>11)value=value.slice(0,11)",clearable:""},model:{value:e.ruleForm.roomNo,callback:function(t){e.$set(e.ruleForm,"roomNo",t)},expression:"ruleForm.roomNo"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"联系人",prop:"contactName"}},[a("el-input",{attrs:{placeholder:"请输入联系人",maxlength:"10",clearable:""},model:{value:e.ruleForm.contactName,callback:function(t){e.$set(e.ruleForm,"contactName",t)},expression:"ruleForm.contactName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"联系电话",prop:"contactTel"}},[a("el-input",{attrs:{placeholder:"请输入联系电话",type:"number",oninput:"if(value.length>11)value=value.slice(0,11)",clearable:""},model:{value:e.ruleForm.contactTel,callback:function(t){e.$set(e.ruleForm,"contactTel",t)},expression:"ruleForm.contactTel"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"客服电话",prop:"serviceTel"}},[a("el-input",{attrs:{placeholder:"请输入",type:"number",oninput:"if(value.length>20)value=value.slice(0,20)",clearable:""},model:{value:e.ruleForm.serviceTel,callback:function(t){e.$set(e.ruleForm,"serviceTel",t)},expression:"ruleForm.serviceTel"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"所属区域",prop:"areaId"}},[a("el-select",{attrs:{clearable:"",filterable:"",placeholder:"请选择所属区域"},model:{value:e.ruleForm.areaId,callback:function(t){e.$set(e.ruleForm,"areaId",t)},expression:"ruleForm.areaId"}},e._l(e.arealist,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"酒店类型",prop:"type"}},[a("el-select",{attrs:{placeholder:"请选择酒店类型"},model:{value:e.ruleForm.type,callback:function(t){e.$set(e.ruleForm,"type",t)},expression:"ruleForm.type"}},e._l(e.typelist,function(e){return a("el-option",{key:e.id,attrs:{label:e.label,value:e.id}})}),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"状态",prop:"status"}},[a("el-select",{attrs:{placeholder:"请选择状态"},model:{value:e.ruleForm.status,callback:function(t){e.$set(e.ruleForm,"status",t)},expression:"ruleForm.status"}},e._l(e.statuslist,function(e){return a("el-option",{key:e.id,attrs:{label:e.label,value:e.id}})}),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"备注"}},[a("el-input",{attrs:{type:"textarea",rows:2,placeholder:"请输入备注",clearable:""},model:{value:e.ruleForm.remark,callback:function(t){e.$set(e.ruleForm,"remark",t)},expression:"ruleForm.remark"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("ruleForm")}}},[e._v("确认保存")]),e._v(" "),a("el-button",{on:{click:function(t){return e.resetForm("ruleForm")}}},[e._v("表单重置")])],1)],1)],1)],1)},staticRenderFns:[]};var _e=a("VU/8")(ve,be,!1,function(e){a("wKWe")},null,null).exports,ye={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"mainboss"},[t("img",{attrs:{src:a("BbT8"),alt:""}})])}]},ke=a("VU/8")(null,ye,!1,null,null,null).exports,Fe={name:"replenish_list",data:function(){return{total:0,ptotal:0,pageNum:1,pageSize:15,loading:!1,centerDialogVisible:!1,term:{goodsId:"",hotelId:""},dialist:[],options:[],goodslist:[],orderlist:[]}},watch:{centerDialogVisible:function(){this.centerDialogVisible||(this.dialist=[])}},filters:{filterhour:function(e){return parseInt(e/24)+"天 "+parseInt(e%24)+"小时"}},methods:{getarea:function(){var e=this;this.options.length<1&&this.$http.get("replenishOrder/areaList").then(function(t){var a=[];for(var l in t.data){var r={};r.value=t.data[l].id,r.label=t.data[l].name,r.children=[],a.push(r)}e.options=a})},handleItemChange:function(e){this.gethotel(e[0])},gethotel:function(e){var t=this;this.$http.get("replenishOrder/hotelList/"+e).then(function(a){var l=[];for(var r in t.options)if(e==t.options[r].value){for(var i in a.data){var n={};n.value=a.data[i].id,n.label=a.data[i].name,l.push(n)}t.options[r].children=l}})},handlechange:function(e){this.term.hotelId=e[1]},getgoods:function(){var e=this;this.goodslist.length<1&&this.$http.get("replenishOrder/goods").then(function(t){e.goodslist=t.data})},getreplenishOrder:function(e){var t=this;1==e&&(this.pageNum=1);var a="replenishOrder?pageNum="+this.pageNum+"&pageSize="+this.pageSize;for(var l in this.term)this.term[l]&&(a+="&"+l+"="+this.term[l]);this.loading=!0,this.$http.get(a).then(function(e){t.loading=!1,t.total=e.data.total,e.data.total<1?(t.$message("没有查询到相关数据信息"),t.orderlist=[]):t.orderlist=e.data.data})},handleCurrentChange:function(e){this.pageNum=e,this.getreplenishOrder()},handleSizeChange:function(e){this.pageSize=e,this.getreplenishOrder()},orderDetail:function(e){var t=this,a="replenishOrder/"+e.hotelId+"/"+e.goodsId;this.$http.get(a).then(function(e){t.centerDialogVisible=!t.centerDialogVisible,t.dialist=e.data})}},created:function(){this.getreplenishOrder()}},we={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"replenish_list mainboss"},[a("div",{staticClass:"martop"},[a("div",{staticClass:"topleft"},[a("el-cascader",{attrs:{placeholder:"选择区域酒店","show-all-levels":!1,options:e.options,filterable:"",clearable:""},on:{"active-item-change":e.handleItemChange,change:e.handlechange,focus:e.getarea}}),e._v(" "),a("el-select",{attrs:{clearable:"",filterable:"",placeholder:"请选择商品"},on:{focus:e.getgoods},model:{value:e.term.goodsId,callback:function(t){e.$set(e.term,"goodsId",t)},expression:"term.goodsId"}},e._l(e.goodslist,function(e){return a("el-option",{key:e.value,attrs:{label:e.name,value:e.id}})}),1),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.getreplenishOrder(1)}}},[e._v("搜索")])],1)]),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:e.orderlist,height:this.$store.state.tableHeight,border:"","element-loading-background":"rgba(0, 0, 0, 0.5)","element-loading-text":"数据正在加载中"}},[a("el-table-column",{attrs:{prop:"hotelName",align:"center",label:"酒店名称"}}),e._v(" "),a("el-table-column",{attrs:{prop:"goodsName",align:"center",label:"商品名称"}}),e._v(" "),a("el-table-column",{attrs:{prop:"goodsNo",align:"center",label:"待补货数量"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(a){return e.orderDetail(t.row)}}},[e._v("补货单详情")])]}}])})],1),e._v(" "),a("span",{staticClass:"pagein"},[a("el-pagination",{attrs:{layout:"total, sizes, prev, pager, next, jumper","page-sizes":[15,30,50,100],"page-size":15,total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1),e._v(" "),a("el-dialog",{attrs:{title:"酒店补货单详情",visible:e.centerDialogVisible,"modal-append-to-body":!1,width:"70%",center:""},on:{"update:visible":function(t){e.centerDialogVisible=t}}},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.dialist,border:"","element-loading-background":"rgba(0, 0, 0, 0.5)","element-loading-text":"数据正在加载中"}},[a("el-table-column",{attrs:{prop:"roomNo",align:"center",label:"房间号"}}),e._v(" "),a("el-table-column",{attrs:{prop:"equipNo",align:"center",label:"货柜设备编号"}}),e._v(" "),a("el-table-column",{attrs:{prop:"channelNo",align:"center",label:"待补货货道"}}),e._v(" "),a("el-table-column",{attrs:{prop:"goodsName",align:"center",label:"待补货商品"}}),e._v(" "),a("el-table-column",{attrs:{prop:"salePrice",align:"center",label:"商品价格（单位：元）"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",label:"累计缺货时长"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e._f("filterhour")(t.row.hour)))]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"createTime",align:"center",label:"缺货起始时间"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",label:"销售货道"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("货道"+e._s(t.row.channelNo))]}}])})],1)],1)],1)},staticRenderFns:[]};var xe=a("VU/8")(Fe,we,!1,function(e){a("fjSb")},"data-v-f4816650",null).exports,Ne={name:"queryOrderSummary",data:function(){return{total:0,ptotal:0,pageNum:1,pageSize:15,loading:!1,term:{areaId:"",hotelId:"",startDate:"",endDate:""},options:[],arealist:[],saleslist:[]}},methods:{changDage:function(e){if(e)return e.getFullYear()+"-"+(e.getMonth()+1)+"-"+e.getDate()+" "+e.getHours()+":"+e.getMinutes()+":"+e.getSeconds()},getarea:function(){var e=this;this.options.length<1&&this.$http.get("sales/areaList").then(function(t){var a=[];for(var l in e.arealist=t.data,t.data){var r={};r.value=t.data[l].id,r.label=t.data[l].name,r.children=[],a.push(r)}e.options=a})},handleItemChange:function(e){this.gethotel(e[0])},gethotel:function(e){var t=this;this.$http.get("sales/hotelList/"+e).then(function(a){var l=[];for(var r in t.options)if(e==t.options[r].value){for(var i in a.data){var n={};n.value=a.data[i].id,n.label=a.data[i].name,l.push(n)}t.options[r].children=l}})},handlechange:function(e){this.term.hotelId=e[1]},getsales:function(e){var t=this,a={},l="",r=this;if(1==e&&(this.pageNum=1),this.term.startDate&&this.term.endDate){var i=Number(this.term.startDate.getTime()),n=Number(this.term.endDate.getTime());if(i>n)return this.term.endDate="",void this.$message.error("开始时间不得大于结束时间");if(n-i>7776e6)return this.term.endDate="",void this.$message.error("开始时间与结束时间间隔不得大于90天");for(var s in this.term.startDate&&(a.startDate=this.changDage(this.term.startDate)),this.term.endDate&&(a.endDate=this.changDage(this.term.endDate)),a.areaId=this.term.areaId,a.hotelId=this.term.hotelId,l="sales?pageNum="+this.pageNum+"&pageSize="+this.pageSize,a)a[s]&&(l+="&"+s+"="+a[s]);this.loading=!0,this.$http.get(l).then(function(e){if(t.loading=!1,t.total=e.total,e.data.total<1)t.$message("没有查询到相关数据信息"),t.saleslist=[];else{for(var a={amount:0,name:"本页合计",quantity:0},l=0;l<e.data.length;l++)a.amount=a.amount+100*e.data[l].amount,a.quantity+=e.data[l].quantity;a.amount=a.amount/100,setTimeout(function(){e.data.unshift(a),r.saleslist=e.data},200)}})}else this.$message("请选择时间")},handleCurrentChange:function(e){this.pageNum=e,this.getsales()},handleSizeChange:function(e){this.pageSize=e,this.getsales()}},created:function(){var e=new Date;e.setTime(e.getTime()-7776e6),this.term.startDate=e;var t=new Date;t.setTime(t.getTime()),this.term.endDate=t,this.getsales()}},Ce={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"queryOrderSummary mainboss"},[a("div",{staticClass:"martop"},[a("div",{staticClass:"topleft"},[a("el-select",{attrs:{clearable:"",filterable:"",placeholder:"请选择区域"},on:{focus:e.getarea},model:{value:e.term.areaId,callback:function(t){e.$set(e.term,"areaId",t)},expression:"term.areaId"}},e._l(e.arealist,function(e){return a("el-option",{key:e.value,attrs:{label:e.name,value:e.id}})}),1),e._v(" "),a("el-cascader",{attrs:{placeholder:"选择区域酒店","show-all-levels":!1,options:e.options,filterable:"",clearable:""},on:{"active-item-change":e.handleItemChange,change:e.handlechange,focus:e.getarea}}),e._v(" "),a("el-date-picker",{attrs:{type:"datetime",placeholder:"开始时间",align:"right"},model:{value:e.term.startDate,callback:function(t){e.$set(e.term,"startDate",t)},expression:"term.startDate"}}),e._v(" "),a("el-date-picker",{attrs:{type:"datetime",placeholder:"结束时间",align:"right"},model:{value:e.term.endDate,callback:function(t){e.$set(e.term,"endDate",t)},expression:"term.endDate"}}),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.getsales(1)}}},[e._v("搜索")])],1)]),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:e.saleslist,height:this.$store.state.tableHeight,border:"",stripe:"","element-loading-background":"rgba(0, 0, 0, 0.5)","element-loading-text":"数据正在加载中"}},[a("el-table-column",{attrs:{prop:"name",align:"center",label:"酒店名称"}}),e._v(" "),a("el-table-column",{attrs:{prop:"quantity",align:"center",label:"销售量(个/件)"}}),e._v(" "),a("el-table-column",{attrs:{prop:"amount",align:"center",label:"销售额(元)"}})],1)],1)},staticRenderFns:[]};var $e=a("VU/8")(Ne,Ce,!1,function(e){a("lro+")},null,null).exports,ze={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"mainboss"},[t("img",{attrs:{src:a("BbT8"),alt:""}})])}]},Ve=a("VU/8")(null,ze,!1,null,null,null).exports,De={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"mainboss"},[t("img",{attrs:{src:a("BbT8"),alt:""}})])}]},Se=a("VU/8")(null,De,!1,null,null,null).exports,qe={name:"order_list",data:function(){return{total:0,ptotal:0,pageNum:1,pageSize:15,loading:!1,centerDialogVisible:!1,term:{serialNo:"",hotelId:"",status:"",payway:""},options:[],dialist:[],statuslist:[{id:1,label:"待支付"},{id:2,label:"已支付"},{id:3,label:"作废"}],paywaylist:[{id:1,label:"微信支付"},{id:2,label:"支付宝支付"}],orderlist:[]}},watch:{centerDialogVisible:function(){this.centerDialogVisible||(this.dialist=[])}},methods:{getarea:function(){var e=this;this.$http.get("order/areaList").then(function(t){var a=[];for(var l in t.data){var r={};r.value=t.data[l].id,r.label=t.data[l].name,r.children=[],a.push(r)}e.options=a})},handleItemChange:function(e){this.gethotel(e[0])},gethotel:function(e){var t=this;this.$http.get("order/hotelList/"+e).then(function(a){var l=[];for(var r in t.options)if(e==t.options[r].value){for(var i in a.data){var n={};n.value=a.data[i].id,n.label=a.data[i].name,l.push(n)}t.options[r].children=l}})},handlechange:function(e){console.log("val:",e),this.term.hotelId=e[1]},getorderlist:function(e){var t=this;1==e&&(this.pageNum=1);var a="order?pageNum="+this.pageNum+"&pageSize="+this.pageSize;for(var l in this.term)this.term[l]&&(a+="&"+l+"="+this.term[l]);this.loading=!0,this.$http.get(a).then(function(e){t.loading=!1,t.total=e.data.total,e.data.total<1?(t.$message("没有查询到相关数据信息"),t.orderlist=[]):t.orderlist=e.data.data})},handleCurrentChange:function(e){this.pageNum=e,this.getorderlist()},handleSizeChange:function(e){this.pageSize=e,this.getorderlist()},orderDetail:function(e){var t=this;this.$http.get("order/"+e.id).then(function(e){t.centerDialogVisible=!t.centerDialogVisible,t.dialist=e.data})}},created:function(){this.getorderlist()}},Ie={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"order_list mainboss"},[a("div",{staticClass:"martop"},[a("div",{staticClass:"topleft"},[a("el-input",{attrs:{placeholder:"请输入订单编号",clearable:""},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.getorderlist(1)}},model:{value:e.term.serialNo,callback:function(t){e.$set(e.term,"serialNo",t)},expression:"term.serialNo"}}),e._v(" "),a("el-cascader",{attrs:{placeholder:"选择区域酒店","show-all-levels":!1,options:e.options,filterable:"",clearable:""},on:{"active-item-change":e.handleItemChange,change:e.handlechange,focus:e.getarea}}),e._v(" "),a("el-select",{attrs:{clearable:"",filterable:"",placeholder:"请选择状态"},model:{value:e.term.status,callback:function(t){e.$set(e.term,"status",t)},expression:"term.status"}},e._l(e.statuslist,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.id}})}),1),e._v(" "),a("el-select",{attrs:{clearable:"",filterable:"",placeholder:"请选择支付方式"},model:{value:e.term.payway,callback:function(t){e.$set(e.term,"payway",t)},expression:"term.payway"}},e._l(e.paywaylist,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.id}})}),1),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.getorderlist(1)}}},[e._v("搜索")])],1)]),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:e.orderlist,height:this.$store.state.tableHeight,border:"","element-loading-background":"rgba(0, 0, 0, 0.5)","element-loading-text":"数据正在加载中"}},[a("el-table-column",{attrs:{prop:"serialNo",align:"center",label:"订单编号"}}),e._v(" "),a("el-table-column",{attrs:{prop:"equipNo",align:"center",label:"销售设备"}}),e._v(" "),a("el-table-column",{attrs:{prop:"hotelName",align:"center",label:"酒店名称"}}),e._v(" "),a("el-table-column",{attrs:{prop:"roomNo",align:"center",label:"房间号"}}),e._v(" "),a("el-table-column",{attrs:{prop:"amount",align:"center",label:"总金额"}}),e._v(" "),a("el-table-column",{attrs:{prop:"orderTime",align:"center",label:"下单时间"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",label:"支付方式"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-tag",{attrs:{type:"1"===t.row.payway?"success":"primary","disable-transitions":""}},[e._v(e._s("1"===t.row.payway?"微信支付":"支付宝支付"))])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"payTime",align:"center",label:"支付时间"}}),e._v(" "),a("el-table-column",{attrs:{prop:"status",align:"center",label:"状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s("1"===t.row.status?"待支付":"2"===t.row.status?"已支付":"作废"))]}}])}),e._v(" "),a("el-table-column",{attrs:{fixed:"right",label:"操作",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(a){return e.orderDetail(t.row)}}},[e._v("订单明细")])]}}])})],1),e._v(" "),a("span",{staticClass:"pagein"},[a("el-pagination",{attrs:{layout:"total, sizes, prev, pager, next, jumper","page-sizes":[15,30,50,100],"page-size":15,total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1),e._v(" "),a("el-dialog",{attrs:{title:"订单详情",visible:e.centerDialogVisible,"modal-append-to-body":!1,width:"50%",center:""},on:{"update:visible":function(t){e.centerDialogVisible=t}}},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.dialist,border:"","element-loading-background":"rgba(0, 0, 0, 0.5)","element-loading-text":"数据正在加载中"}},[a("el-table-column",{attrs:{prop:"goodsName",align:"center",label:"商品名称"}}),e._v(" "),a("el-table-column",{attrs:{prop:"salePrice",align:"center",label:"销售价格"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",label:"销售货道"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("货道"+e._s(t.row.channelNo))]}}])})],1)],1)],1)},staticRenderFns:[]};var Ee=a("VU/8")(qe,Ie,!1,function(e){a("+WBd")},null,null).exports,je={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"door mainboss"},[a("div",{staticClass:"martop"},[a("div",{staticClass:"topleft"},[a("el-input",{attrs:{type:"number",placeholder:"请输入设备编号",clearable:""},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.getloglist(1)}},model:{value:e.term.equipNo,callback:function(t){e.$set(e.term,"equipNo",t)},expression:"term.equipNo"}}),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.getloglist(1)}}},[e._v("搜索")])],1)]),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:e.loglist,height:this.$store.state.tableHeight,border:"","element-loading-background":"rgba(0, 0, 0, 0.5)","element-loading-text":"数据正在加载中"}},[a("el-table-column",{attrs:{prop:"hotelName",align:"center",label:"酒店名称"}}),e._v(" "),a("el-table-column",{attrs:{prop:"roomNo",align:"center",label:"房间号"}}),e._v(" "),a("el-table-column",{attrs:{prop:"equipNo",align:"center",label:"设备号"}}),e._v(" "),a("el-table-column",{attrs:{prop:"channelNo",align:"center",label:"货道号"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",label:"类型"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e._f("fitertype")(t.row.type)))]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"center",label:"状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e._f("fiterstatus")(t.row.status)))]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"createTime",align:"center",label:"操作时间"}})],1),e._v(" "),a("span",{staticClass:"pagein"},[a("el-pagination",{attrs:{layout:"total, sizes, prev, pager, next, jumper","page-sizes":[15,30,50,100],"page-size":15,total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)},staticRenderFns:[]};var Ae=a("VU/8")({name:"storeloglist",data:function(){return{total:0,pageNum:1,pageSize:15,term:{equipNo:""},loglist:[]}},filters:{fiterstatus:function(e){return 1==e?"成功":2==e?"失败":3==e?"离线":4==e?"异常":6==e?"已开":void 0},fitertype:function(e){return 1==e?"开门":11==e?"重试1":12==e?"重试2":13==e?"重试3":14==e?"重试4":void 0}},methods:{getloglist:function(e){var t=this;1==e&&(this.pageNum=1);var a="openLog?pageNum="+this.pageNum+"&pageSize="+this.pageSize;for(var l in this.term)this.term[l]&&(a+="&"+l+"="+this.term[l]);this.loading=!0,this.$http.get(a).then(function(e){t.loading=!1,t.total=e.data.total,e.data.total<1?(t.$message("没有查询到相关数据信息"),t.loglist=[]):(e.data.data,t.loglist=e.data.data)})},handleCurrentChange:function(e){this.pageNum=e,this.getloglist()},handleSizeChange:function(e){this.pageSize=e,this.getloglist()}},created:function(){this.getloglist()}},je,!1,function(e){a("UZn7")},null,null).exports,Te={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("img",{attrs:{src:a("BbT8"),alt:""}})])}]},Oe=a("VU/8")(null,Te,!1,null,null,null).exports,Le={name:"apply_list",data:function(){return{total:0,pageNum:1,pageSize:15,supplierName:"",centerDialogVisible:!1,ruleForm:{hotelId:""},rules:{hotelId:[{required:!0,message:"请选择酒店",trigger:"change"}]},term:{hotelId:"",trueName:"",userNmae:"",status:0},replenisherlist:[],options:[],hotellist:[]}},watch:{centerDialogVisible:function(){this.centerDialogVisible||(this.ruleForm.hotelId="")}},methods:{getarea:function(){var e=this;this.options.length<1&&this.$http.get("store/areaList").then(function(t){var a=[];for(var l in t.data){var r={};r.value=t.data[l].id,r.label=t.data[l].name,r.children=[],a.push(r)}e.options=a})},handleItemChange:function(e){this.gethotel(e[0])},gethotel:function(e){var t=this;this.$http.get("replenisher/hotelList/"+e).then(function(a){var l=[];for(var r in t.options)if(e==t.options[r].value){for(var i in a.data){var n={};n.value=a.data[i].id,n.label=a.data[i].name,l.push(n)}t.options[r].children=l}})},handlechange:function(e){this.centerDialogVisible?this.ruleForm.hotelId=e[1]:this.term.hotelId=e[1]},getreplenisherlist:function(e){var t=this;1==e&&(this.pageNum=1);var a="/replenisher?pageNum="+this.pageNum+"&pageSize="+this.pageSize;for(var l in this.term)(this.term[l]||"0"==this.term[l])&&(a+="&"+l+"="+this.term[l]);this.loading=!0,this.$http.get(a).then(function(e){t.loading=!1,t.total=e.data.total,e.data.total<1?(t.$message("没有查询到相关数据信息"),t.replenisherlist=[]):t.replenisherlist=e.data.data})},handleCurrentChange:function(e){this.pageNum=e,this.getreplenisherlist()},handleSizeChange:function(e){this.pageSize=e,this.getreplenisherlist()},openDialog:function(e){this.centerDialogVisible=!0},handlebut:function(e){for(var t in e)this.ruleForm[t]=e[t];this.ruleForm.hotelId="",this.centerDialogVisible=!0},handleby:function(){var e=this;if(this.ruleForm.hotelId){var t={id:this.ruleForm.id,hotelId:this.ruleForm.hotelId};this.$http.put("replenisher/update",t).then(function(t){e.$message.success("操作成功"),e.getreplenisherlist(),e.centerDialogVisible=!1})}else this.$message.error("请选择酒店绑定")},handlerefuse:function(){var e=this;this.$confirm("拒绝审批会删除未通过的数据，是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.$http.delete("replenisher/"+e.ruleForm.id).then(function(t){e.$message.success("操作成功"),e.getreplenisherlist(),e.centerDialogVisible=!1})}).catch(function(){})},submitForm:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return console.log("error submit!!"),!1;t.handleby()})},resetForm:function(e){this.ruleForm.hotelId=""}},created:function(){this.getreplenisherlist()}},He={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"apply_list mainboss"},[a("div",{staticClass:"martop"},[a("div",{staticClass:"topleft"},[a("el-input",{attrs:{placeholder:"请输入姓名",clearable:""},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.getreplenisherlist(1)}},model:{value:e.term.trueName,callback:function(t){e.$set(e.term,"trueName",t)},expression:"term.trueName"}}),e._v(" "),a("el-input",{attrs:{placeholder:"请输入联系方式",clearable:""},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.getreplenisherlist(1)}},model:{value:e.term.username,callback:function(t){e.$set(e.term,"username",t)},expression:"term.username"}}),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.getreplenisherlist(1)}}},[e._v("搜索")])],1)]),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:e.replenisherlist,height:this.$store.state.tableHeight,border:"","element-loading-background":"rgba(0, 0, 0, 0.5)","element-loading-text":"数据正在加载中"}},[a("el-table-column",{attrs:{prop:"trueName",align:"center",label:"姓名"}}),e._v(" "),a("el-table-column",{attrs:{prop:"username",align:"center",label:"联系电话"}}),e._v(" "),a("el-table-column",{attrs:{prop:"hotelId",align:"center",label:"酒店名称"}}),e._v(" "),a("el-table-column",{attrs:{prop:"createTime",align:"center",label:"创建时间"}}),e._v(" "),a("el-table-column",{attrs:{fixed:"right",label:"操作",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{directives:[{name:"show",rawName:"v-show",value:"1"!=t.row.status,expression:"scope.row.status!='1'"}],attrs:{type:"primary",size:"mini",icon:"el-icon-edit"},on:{click:function(a){return e.handlebut(t.row)}}},[e._v("审批")])]}}])})],1),e._v(" "),a("span",{staticClass:"pagein"},[a("el-pagination",{attrs:{layout:"total, sizes, prev, pager, next, jumper","page-sizes":[15,30,50,100],"page-size":15,total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1),e._v(" "),a("el-dialog",{attrs:{title:"审批",visible:e.centerDialogVisible,"modal-append-to-body":!1,width:"50%",center:""},on:{"update:visible":function(t){e.centerDialogVisible=t}}},[a("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"姓名"}},[a("el-input",{attrs:{disabled:!0,clearable:""},model:{value:e.ruleForm.trueName,callback:function(t){e.$set(e.ruleForm,"trueName",t)},expression:"ruleForm.trueName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"联系电话"}},[a("el-input",{attrs:{disabled:!0,clearable:""},model:{value:e.ruleForm.username,callback:function(t){e.$set(e.ruleForm,"username",t)},expression:"ruleForm.username"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"绑定酒店"}},[a("el-cascader",{attrs:{placeholder:"选择区域酒店","show-all-levels":!1,options:e.options,filterable:"",clearable:""},on:{"active-item-change":e.handleItemChange,change:e.handlechange,focus:e.getarea}})],1),e._v(" "),a("el-form-item",{attrs:{label:"创建时间"}},[a("el-input",{attrs:{disabled:!0,clearable:""},model:{value:e.ruleForm.createTime,callback:function(t){e.$set(e.ruleForm,"createTime",t)},expression:"ruleForm.createTime"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.handleby}},[e._v("通过")]),e._v(" "),a("el-button",{attrs:{type:"danger"},on:{click:e.handlerefuse}},[e._v("拒绝")])],1)],1)],1)],1)},staticRenderFns:[]};var Pe=a("VU/8")(Le,He,!1,function(e){a("Ai2Q")},null,null).exports,Re={name:"apply_part",data:function(){return{total:0,pageNum:1,pageSize:15,supplierName:"",centerDialogVisible:!1,ruleForm:{hotelId:""},rules:{hotelId:[{required:!0,message:"请选择酒店",trigger:"change"}]},term:{hotelId:"",username:"",trueName:"",status:"1"},replenisherlist:[],options:[],hotellist:[]}},watch:{centerDialogVisible:function(){this.centerDialogVisible||(this.ruleForm.hotelId="")}},methods:{getarea:function(){var e=this;this.options.length<1&&this.$http.get("store/areaList").then(function(t){var a=[];for(var l in t.data){var r={};r.value=t.data[l].id,r.label=t.data[l].name,r.children=[],a.push(r)}e.options=a})},handleItemChange:function(e){this.gethotel(e[0])},gethotel:function(e){var t=this;this.$http.get("store/hotelList/"+e).then(function(a){var l=[];for(var r in t.options)if(e==t.options[r].value){for(var i in a.data){var n={};n.value=a.data[i].id,n.label=a.data[i].name,l.push(n)}t.options[r].children=l}})},handlechange:function(e){this.centerDialogVisible?this.ruleForm.hotelId=e[1]:this.term.hotelId=e[1]},getreplenisherlist:function(e){var t=this;1==e&&(this.pageNum=1);var a="/replenisher?pageNum="+this.pageNum+"&pageSize="+this.pageSize;for(var l in this.term)(this.term[l]||"0"==this.term[l])&&(a+="&"+l+"="+this.term[l]);this.loading=!0,this.$http.get(a).then(function(e){if(t.loading=!1,t.total=e.data.total,e.data.total<1)t.$message("没有查询到数据信息"),t.replenisherlist=[];else{var a=e.data.data;for(var l in a)1==a[l].status?a[l].status=!0:a[l].status=!1;t.replenisherlist=a}})},handleCurrentChange:function(e){this.pageNum=e,this.getreplenisherlist()},handleSizeChange:function(e){this.pageSize=e,this.getreplenisherlist()},changestatus:function(e){var t=this,a={status:"",id:e.id};e.status?a.status=1:a.status=0,this.$http.put("replenisher/status",a).then(function(e){200==e.status&&t.$message.success("操作成功")})},openDialog:function(e){this.centerDialogVisible=!0},handlebut:function(e){for(var t in e)this.ruleForm[t]=e[t];this.centerDialogVisible=!0},handleby:function(){var e=this,t={id:this.ruleForm.id};this.ruleForm.hotelId&&(t.hotelId=this.ruleForm.hotelId),this.$http.put("replenisher/update",t).then(function(t){e.$message.success("操作成功"),e.getreplenisherlist(),e.centerDialogVisible=!1})},submitForm:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return console.log("error submit!!"),!1;t.handleby()})},resetForm:function(e){this.ruleForm.hotelId=""}},created:function(){this.getreplenisherlist()}},Be={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"apply_part mainboss"},[a("div",{staticClass:"martop"},[a("div",{staticClass:"topleft"},[a("el-cascader",{attrs:{placeholder:"选择区域酒店","show-all-levels":!1,options:e.options,filterable:"",clearable:""},on:{"active-item-change":e.handleItemChange,change:e.handlechange,focus:e.getarea}}),e._v(" "),a("el-input",{attrs:{placeholder:"请输入姓名",clearable:""},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.getreplenisherlist(1)}},model:{value:e.term.trueName,callback:function(t){e.$set(e.term,"trueName",t)},expression:"term.trueName"}}),e._v(" "),a("el-input",{attrs:{placeholder:"请输入联系方式",clearable:""},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.getreplenisherlist(1)}},model:{value:e.term.username,callback:function(t){e.$set(e.term,"username",t)},expression:"term.username"}}),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.getreplenisherlist(1)}}},[e._v("搜索")])],1)]),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:e.replenisherlist,height:this.$store.state.tableHeight,border:"","element-loading-background":"rgba(0, 0, 0, 0.5)","element-loading-text":"数据正在加载中"}},[a("el-table-column",{attrs:{prop:"trueName",align:"center",label:"姓名"}}),e._v(" "),a("el-table-column",{attrs:{prop:"username",align:"center",label:"联系电话"}}),e._v(" "),a("el-table-column",{attrs:{prop:"hotelName",align:"center",label:"酒店名称"}}),e._v(" "),a("el-table-column",{attrs:{prop:"createTime",align:"center",label:"创建时间"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",label:"状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-switch",{attrs:{"active-text":"","inactive-text":""},on:{change:function(a){return e.changestatus(t.row)}},model:{value:t.row.status,callback:function(a){e.$set(t.row,"status",a)},expression:"scope.row.status"}})]}}])}),e._v(" "),a("el-table-column",{attrs:{fixed:"right",label:"操作",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{disabled:!t.row.status,type:"primary",size:"mini",icon:"el-icon-edit"},on:{click:function(a){return e.handlebut(t.row)}}},[e._v("酒店分配")])]}}])})],1),e._v(" "),a("span",{staticClass:"pagein"},[a("el-pagination",{attrs:{layout:"total, sizes, prev, pager, next, jumper","page-sizes":[15,30,50,100],"page-size":15,total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1),e._v(" "),a("el-dialog",{attrs:{title:"分配酒店",visible:e.centerDialogVisible,"modal-append-to-body":!1,width:"50%",center:""},on:{"update:visible":function(t){e.centerDialogVisible=t}}},[a("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"姓名"}},[a("el-input",{attrs:{disabled:!0,clearable:""},model:{value:e.ruleForm.trueName,callback:function(t){e.$set(e.ruleForm,"trueName",t)},expression:"ruleForm.trueName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"联系电话"}},[a("el-input",{attrs:{disabled:!0,clearable:""},model:{value:e.ruleForm.createTime,callback:function(t){e.$set(e.ruleForm,"createTime",t)},expression:"ruleForm.createTime"}})],1),e._v(" "),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:e.ruleForm.hotelName,expression:"ruleForm.hotelName"}],attrs:{label:"酒店名称"}},[a("el-input",{attrs:{disabled:!0,clearable:""},model:{value:e.ruleForm.hotelName,callback:function(t){e.$set(e.ruleForm,"hotelName",t)},expression:"ruleForm.hotelName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"新绑定酒店",prop:"hotelId"}},[a("el-cascader",{attrs:{placeholder:"选择区域酒店","show-all-levels":!1,options:e.options,filterable:"",clearable:""},on:{"active-item-change":e.handleItemChange,change:e.handlechange,focus:e.getarea}})],1),e._v(" "),a("el-form-item",{attrs:{label:"创建时间"}},[a("el-input",{attrs:{disabled:!0,clearable:""},model:{value:e.ruleForm.createTime,callback:function(t){e.$set(e.ruleForm,"createTime",t)},expression:"ruleForm.createTime"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("ruleForm")}}},[e._v("确认保存")]),e._v(" "),a("el-button",{on:{click:function(t){return e.resetForm("ruleForm")}}},[e._v("表单重置")])],1)],1)],1)],1)},staticRenderFns:[]};var Me=a("VU/8")(Re,Be,!1,function(e){a("ALOr")},null,null).exports,Ue={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"apply_log mainboss"},[a("div",{staticClass:"martop"},[a("div",{staticClass:"topleft"},[a("el-input",{attrs:{type:"number",placeholder:"请输入设备编号",clearable:""},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.getloglist(1)}},model:{value:e.term.equipNo,callback:function(t){e.$set(e.term,"equipNo",t)},expression:"term.equipNo"}}),e._v(" "),a("el-input",{attrs:{placeholder:"请输入操作人姓名",clearable:""},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.getloglist(1)}},model:{value:e.term.trueName,callback:function(t){e.$set(e.term,"trueName",t)},expression:"term.trueName"}}),e._v(" "),a("el-input",{attrs:{type:"number",placeholder:"请输入操作人手机号",clearable:""},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.getloglist(1)}},model:{value:e.term.username,callback:function(t){e.$set(e.term,"username",t)},expression:"term.username"}}),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.getloglist(1)}}},[e._v("搜索")])],1)]),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:e.loglist,height:this.$store.state.tableHeight,border:"","element-loading-background":"rgba(0, 0, 0, 0.5)","element-loading-text":"数据正在加载中"}},[a("el-table-column",{attrs:{prop:"hotelName",align:"center",label:"酒店名称"}}),e._v(" "),a("el-table-column",{attrs:{prop:"roomNo",align:"center",label:"房间号"}}),e._v(" "),a("el-table-column",{attrs:{prop:"equipNo",align:"center",label:"设备号"}}),e._v(" "),a("el-table-column",{attrs:{prop:"channelNo",align:"center",label:"货道号"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",label:"类型"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e._f("fitertype")(t.row.type)))]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"center",label:"状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e._f("fiterstatus")(t.row.status)))]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"createTime",align:"center",label:"操作时间"}}),e._v(" "),a("el-table-column",{attrs:{prop:"trueName",align:"center",label:"操作人"}}),e._v(" "),a("el-table-column",{attrs:{prop:"username",align:"center",label:"联系电话"}})],1),e._v(" "),a("span",{staticClass:"pagein"},[a("el-pagination",{attrs:{layout:"total, sizes, prev, pager, next, jumper","page-sizes":[15,30,50,100],"page-size":15,total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)},staticRenderFns:[]};var Ze=a("VU/8")({name:"apply_log",data:function(){return{pageNum:1,pageSize:15,total:0,loading:!1,loglist:[],term:{equipNo:"",username:"",trueName:""}}},filters:{fiterstatus:function(e){return 1==e?"成功":2==e?"失败":3==e?"离线":4==e?"异常":6==e?"已开":void 0},fitertype:function(e){return 1==e?"开门":11==e?"重试1":12==e?"重试2":13==e?"重试3":14==e?"重试4":void 0}},methods:{getloglist:function(e){var t=this;1==e&&(this.pageNum=1);var a="/replenishLog?pageNum="+this.pageNum+"&pageSize="+this.pageSize;for(var l in this.term)this.term[l]&&(a+="&"+l+"="+this.term[l]);this.loading=!0,this.$http.get(a).then(function(e){t.loading=!1,t.loglist=e.data.data,t.total=e.data.total})},handleCurrentChange:function(e){this.pageNum=e,this.getloglist()},handleSizeChange:function(e){this.pageSize=e,this.getloglist()}},created:function(){this.getloglist()}},Ue,!1,function(e){a("ppEr")},null,null).exports,Ye={name:"apply_warning",data:function(){return{total:0,pageNum:1,pageSize:15,centerDialogVisible:!1,term:{hotelId:""},options:[],detailslist:[],replenisherlist:[]}},filters:{fiterdate:function(e){var t=parseInt(e/24),a=parseInt(e%24);return t?t+"天"+a+"小时":a+"小时"}},methods:{getarea:function(){var e=this;this.options.length<1&&this.$http.get("replenishWarn/areaList").then(function(t){var a=[];for(var l in t.data){var r={};r.value=t.data[l].id,r.label=t.data[l].name,r.children=[],a.push(r)}e.options=a})},handleItemChange:function(e){this.gethotel(e[0])},gethotel:function(e){var t=this;this.$http.get("replenishWarn/hotelList/"+e).then(function(a){var l=[];for(var r in t.options)if(e==t.options[r].value){for(var i in a.data){var n={};n.value=a.data[i].id,n.label=a.data[i].name,l.push(n)}t.options[r].children=l}})},handlechange:function(e){this.term.hotelId=e[1]},getreplenishWarn:function(e){var t=this;1==e&&(this.pageNum=1);var a="/replenishWarn/list?pageNum="+this.pageNum+"&pageSize="+this.pageSize;for(var l in this.term)(this.term[l]||"0"==this.term[l])&&(a+="&"+l+"="+this.term[l]);this.loading=!0,this.$http.get(a).then(function(e){if(t.loading=!1,t.total=e.data.total,e.data.total<1)t.$message("没有查询到数据信息"),t.replenisherlist=[];else{var a=e.data.data;t.replenisherlist=a}})},getdetails:function(e){var t=this;this.$http.get("replenishWarn/details?equipId="+e).then(function(e){var a=e.data;a=a.sort(t.compare("channelNo")),t.detailslist=a})},compare:function(e){return function(t,a){return t[e]-a[e]}},handleCurrentChange:function(e){this.pageNum=e,this.getreplenishWarn()},handleSizeChange:function(e){this.pageSize=e,this.getreplenishWarn()},openDialog:function(e){this.centerDialogVisible=!0},handlebut:function(e){this.getdetails(e.equipId),this.centerDialogVisible=!0}},created:function(){this.getreplenishWarn()}},Ke={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"apply_warning mainboss"},[a("div",{staticClass:"martop"},[a("div",{staticClass:"topleft"},[a("el-cascader",{attrs:{placeholder:"选择区域酒店","show-all-levels":!1,options:e.options,filterable:"",clearable:""},on:{"active-item-change":e.handleItemChange,change:e.handlechange,focus:e.getarea}}),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.getreplenishWarn(1)}}},[e._v("搜索")])],1)]),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:e.replenisherlist,height:this.$store.state.tableHeight,border:"","element-loading-background":"rgba(0, 0, 0, 0.5)","element-loading-text":"数据正在加载中"}},[a("el-table-column",{attrs:{prop:"hotelName",align:"center",label:"酒店名称"}}),e._v(" "),a("el-table-column",{attrs:{prop:"roomeNo",align:"center",label:"房间号码"}}),e._v(" "),a("el-table-column",{attrs:{prop:"equipNo",align:"center",label:"设备编号"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",label:"缺货时长"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e._f("fiterdate")(t.row.hour)))]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"primary",size:"mini",icon:"el-icon-menu"},on:{click:function(a){return e.handlebut(t.row)}}},[e._v("详情")])]}}])})],1),e._v(" "),a("span",{staticClass:"pagein"},[a("el-pagination",{attrs:{layout:"total, sizes, prev, pager, next, jumper","page-sizes":[15,30,50,100],"page-size":15,total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1),e._v(" "),a("el-dialog",{attrs:{title:"预警详情",visible:e.centerDialogVisible,"modal-append-to-body":!1,width:"50%",center:""},on:{"update:visible":function(t){e.centerDialogVisible=t}}},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:e.detailslist,border:"","element-loading-background":"rgba(0, 0, 0, 0.5)","element-loading-text":"数据正在加载中"}},[a("el-table-column",{attrs:{prop:"channelNo",align:"center",label:"货道号"}}),e._v(" "),a("el-table-column",{attrs:{prop:"goodsName",align:"center",label:"商品名称"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",label:"缺货时长"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e._f("fiterdate")(t.row.hour)))]}}])})],1)],1)],1)},staticRenderFns:[]};var We=a("VU/8")(Ye,Ke,!1,function(e){a("aDtE")},null,null).exports,Xe={name:"operation_list",data:function(){return{disval:1,total:0,pageNum:1,pageSize:15,supplierName:"",centerDialogVisible:!1,ruleForm:{areaId:""},rules:{areaId:[{required:!0,message:"请选择酒店",trigger:"change"}]},term:{trueName:"",userNmae:"",areaId:"",status:0},arealist:[],statuslist:[{id:1,label:"已审批"},{id:0,label:"未审批"}],operatorlist:[]}},watch:{centerDialogVisible:function(){this.centerDialogVisible||(this.ruleForm.areaId="")}},methods:{getarealist:function(){var e=this;this.arealist.length<1&&this.$http.get("operator/hotelList").then(function(t){e.arealist=t.data})},getoperatorlist:function(e){var t=this;1==e&&(this.pageNum=1);var a="operator?pageNum="+this.pageNum+"&pageSize="+this.pageSize;for(var l in this.term)(this.term[l]||"0"==this.term[l])&&(a+="&"+l+"="+this.term[l]);this.loading=!0,this.$http.get(a).then(function(e){t.loading=!1,t.total=e.data.total,e.data.total<1?(t.$message("没有查询到相关数据信息"),t.operatorlist=[]):t.operatorlist=e.data.data})},handleCurrentChange:function(e){this.pageNum=e,this.getoperatorlist()},handleSizeChange:function(e){this.pageSize=e,this.getoperatorlist()},openDialog:function(e){this.disval=e,this.centerDialogVisible=!0},handlebut:function(e,t){for(var a in this.disval=t,e)this.ruleForm[a]=e[a];this.getarealist(),2==t&&(this.ruleForm.areaId=""),this.centerDialogVisible=!0},handleby:function(){var e=this;if(this.ruleForm.areaId){var t={id:this.ruleForm.id};this.ruleForm.areaId&&(t.areaId=this.ruleForm.areaId),this.$http.put("operator/update",t).then(function(t){e.$message.success("操作成功"),e.getoperatorlist(),e.centerDialogVisible=!1})}else this.$message.error("请选择绑定区域")},handlerefuse:function(){var e=this;this.$confirm("拒绝审批通过会删除未通过的数据，是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.$http.delete("operator/"+e.ruleForm.id).then(function(t){e.$message.success("操作成功"),e.getoperatorlist(),e.centerDialogVisible=!1})}).catch(function(){})},submitForm:function(e){this.$refs[e].validate(function(e){if(!e)return console.log("error submit!!"),!1})},resetForm:function(e){this.ruleForm.areaId=""}},created:function(){this.getoperatorlist()}},Ge={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"operation_list mainboss"},[a("div",{staticClass:"martop"},[a("div",{staticClass:"topleft"},[a("el-input",{attrs:{placeholder:"请输入申请人姓名",clearable:""},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.getloglist(1)}},model:{value:e.term.trueName,callback:function(t){e.$set(e.term,"trueName",t)},expression:"term.trueName"}}),e._v(" "),a("el-input",{attrs:{type:"number",placeholder:"请输入申请人手机号",clearable:""},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.getloglist(1)}},model:{value:e.term.username,callback:function(t){e.$set(e.term,"username",t)},expression:"term.username"}}),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.getoperatorlist(1)}}},[e._v("搜索")])],1)]),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:e.operatorlist,height:this.$store.state.tableHeight,border:"","element-loading-background":"rgba(0, 0, 0, 0.5)","element-loading-text":"数据正在加载中"}},[a("el-table-column",{attrs:{prop:"trueName",align:"center",label:"姓名"}}),e._v(" "),a("el-table-column",{attrs:{prop:"username",align:"center",label:"联系电话"}}),e._v(" "),a("el-table-column",{attrs:{prop:"createTime",align:"center",label:"创建时间"}}),e._v(" "),a("el-table-column",{attrs:{fixed:"right",label:"操作",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"primary",size:"mini",icon:"el-icon-edit"},on:{click:function(a){return e.handlebut(t.row,1)}}},[e._v("审批")])]}}])})],1),e._v(" "),a("span",{staticClass:"pagein"},[a("el-pagination",{attrs:{layout:"total, sizes, prev, pager, next, jumper","page-sizes":[15,30,50,100],"page-size":15,total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1),e._v(" "),a("el-dialog",{attrs:{title:"审批",visible:e.centerDialogVisible,"modal-append-to-body":!1,width:"50%",center:""},on:{"update:visible":function(t){e.centerDialogVisible=t}}},[a("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"姓名"}},[a("el-input",{attrs:{disabled:!0,clearable:""},model:{value:e.ruleForm.trueName,callback:function(t){e.$set(e.ruleForm,"trueName",t)},expression:"ruleForm.trueName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"联系电话"}},[a("el-input",{attrs:{disabled:!0,clearable:""},model:{value:e.ruleForm.username,callback:function(t){e.$set(e.ruleForm,"username",t)},expression:"ruleForm.username"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"创建时间"}},[a("el-input",{attrs:{disabled:!0,clearable:""},model:{value:e.ruleForm.createTime,callback:function(t){e.$set(e.ruleForm,"createTime",t)},expression:"ruleForm.createTime"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"绑定区域"}},[a("el-select",{attrs:{clearable:"",filterable:"",placeholder:"请选择酒店"},model:{value:e.ruleForm.areaId,callback:function(t){e.$set(e.ruleForm,"areaId",t)},expression:"ruleForm.areaId"}},e._l(e.arealist,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}),1)],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.handleby}},[e._v("通过")]),e._v(" "),a("el-button",{attrs:{type:"danger"},on:{click:e.handlerefuse}},[e._v("拒绝")])],1)],1)],1)],1)},staticRenderFns:[]};var Qe=a("VU/8")(Xe,Ge,!1,function(e){a("fOoy")},null,null).exports,Je={name:"operation_part",data:function(){return{total:0,pageNum:1,pageSize:15,supplierName:"",centerDialogVisible:!1,ruleForm:{areaId:""},rules:{areaId:[{required:!0,message:"请选择酒店",trigger:"change"}]},term:{trueName:"",username:"",areaId:""},operatorlist:[],arealist:[]}},watch:{centerDialogVisible:function(){this.centerDialogVisible||(this.ruleForm.areaId="")}},methods:{getarealist:function(){var e=this;this.arealist.length<1&&this.$http.get("operator/hotelList").then(function(t){e.arealist=t.data})},getoperatorlist:function(e){var t=this;1==e&&(this.pageNum=1);var a="operator?pageNum="+this.pageNum+"&pageSize="+this.pageSize;for(var l in this.term)(this.term[l]||"0"==this.term[l])&&(a+="&"+l+"="+this.term[l]);this.loading=!0,this.$http.get(a).then(function(e){if(t.loading=!1,t.total=e.data.total,e.data.total<1)t.$message("没有查询到相关数据信息"),t.operatorlist=[];else{var a=e.data.data;for(var l in a)1==a[l].status?a[l].status=!0:a[l].status=!1;t.operatorlist=a}})},handleCurrentChange:function(e){this.pageNum=e,this.getoperatorlist()},handleSizeChange:function(e){this.pageSize=e,this.getoperatorlist()},changestatus:function(e){var t=this,a={status:"",id:e.id};e.status?a.status=1:a.status=0,this.$http.put("operator/status",a).then(function(e){200==e.status&&t.$message.success("操作成功")})},openDialog:function(e){this.centerDialogVisible=!0},handlebut:function(e){console.log("obj:",e),this.getarealist();var t=this;for(var a in e)this.ruleForm[a]=e[a];this.arealist.length>1?this.fparea(e):setTimeout(function(){t.fparea(e)},500)},fparea:function(e){for(var t in this.arealist)e.areaName==this.arealist[t].name&&(this.ruleForm.areaId=this.arealist[t].id);this.centerDialogVisible=!0},handleby:function(){var e=this,t={id:this.ruleForm.id};this.ruleForm.areaId&&(t.areaId=this.ruleForm.areaId),this.$http.put("operator/update",t).then(function(t){e.$message.success("操作成功"),e.getoperatorlist(),e.centerDialogVisible=!1})},submitForm:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return console.log("error submit!!"),!1;t.handleby()})},resetForm:function(e){}},created:function(){this.getoperatorlist()}},et={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"operation_part mainboss"},[a("div",{staticClass:"martop"},[a("div",{staticClass:"topleft"},[a("el-select",{attrs:{clearable:"",filterable:"",placeholder:"请选择区域"},on:{focus:e.getarealist},model:{value:e.term.areaId,callback:function(t){e.$set(e.term,"areaId",t)},expression:"term.areaId"}},e._l(e.arealist,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}),1),e._v(" "),a("el-input",{attrs:{placeholder:"请输入姓名",clearable:""},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.getreplenisherlist(1)}},model:{value:e.term.trueName,callback:function(t){e.$set(e.term,"trueName",t)},expression:"term.trueName"}}),e._v(" "),a("el-input",{attrs:{placeholder:"请输入联系方式",clearable:""},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.getreplenisherlist(1)}},model:{value:e.term.username,callback:function(t){e.$set(e.term,"username",t)},expression:"term.username"}}),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.getoperatorlist(1)}}},[e._v("搜索")])],1)]),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:e.operatorlist,height:this.$store.state.tableHeight,border:"","element-loading-background":"rgba(0, 0, 0, 0.5)","element-loading-text":"数据正在加载中"}},[a("el-table-column",{attrs:{prop:"trueName",align:"center",label:"姓名"}}),e._v(" "),a("el-table-column",{attrs:{prop:"username",align:"center",label:"联系电话"}}),e._v(" "),a("el-table-column",{attrs:{prop:"areaName",align:"center",label:"所属区域"}}),e._v(" "),a("el-table-column",{attrs:{prop:"createTime",align:"center",label:"创建时间"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",label:"状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-switch",{attrs:{"active-text":"","inactive-text":""},on:{change:function(a){return e.changestatus(t.row)}},model:{value:t.row.status,callback:function(a){e.$set(t.row,"status",a)},expression:"scope.row.status"}})]}}])}),e._v(" "),a("el-table-column",{attrs:{fixed:"right",label:"操作",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{disabled:!t.row.status,type:"primary",size:"mini",icon:"el-icon-edit"},on:{click:function(a){return e.handlebut(t.row)}}},[e._v("区域分配")])]}}])})],1),e._v(" "),a("span",{staticClass:"pagein"},[a("el-pagination",{attrs:{layout:"total, sizes, prev, pager, next, jumper","page-sizes":[15,30,50,100],"page-size":15,total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1),e._v(" "),a("el-dialog",{attrs:{title:"分配区域",visible:e.centerDialogVisible,"modal-append-to-body":!1,width:"50%",center:""},on:{"update:visible":function(t){e.centerDialogVisible=t}}},[a("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"姓名"}},[a("el-input",{attrs:{disabled:!0,clearable:""},model:{value:e.ruleForm.trueName,callback:function(t){e.$set(e.ruleForm,"trueName",t)},expression:"ruleForm.trueName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"联系电话"}},[a("el-input",{attrs:{disabled:!0,clearable:""},model:{value:e.ruleForm.username,callback:function(t){e.$set(e.ruleForm,"username",t)},expression:"ruleForm.username"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"绑定区域",prop:"areaId"}},[a("el-select",{attrs:{clearable:"",filterable:"",placeholder:"请选择酒店"},model:{value:e.ruleForm.areaId,callback:function(t){e.$set(e.ruleForm,"areaId",t)},expression:"ruleForm.areaId"}},e._l(e.arealist,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"创建时间"}},[a("el-input",{attrs:{disabled:!0,clearable:""},model:{value:e.ruleForm.createTime,callback:function(t){e.$set(e.ruleForm,"createTime",t)},expression:"ruleForm.createTime"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("ruleForm")}}},[e._v("确认保存")]),e._v(" "),a("el-button",{on:{click:function(t){return e.resetForm("ruleForm")}}},[e._v("表单重置")])],1)],1)],1)],1)},staticRenderFns:[]};var tt=a("VU/8")(Je,et,!1,function(e){a("gaG5")},null,null).exports,at={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"operation_log mainboss"},[a("div",{staticClass:"martop"},[a("div",{staticClass:"topleft"},[a("el-input",{attrs:{placeholder:"请输入设备编号",clearable:""},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.getloglist(1)}},model:{value:e.term.equipNo,callback:function(t){e.$set(e.term,"equipNo",t)},expression:"term.equipNo"}}),e._v(" "),a("el-input",{attrs:{placeholder:"请输入操作人姓名",clearable:""},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.getloglist(1)}},model:{value:e.term.trueName,callback:function(t){e.$set(e.term,"trueName",t)},expression:"term.trueName"}}),e._v(" "),a("el-input",{attrs:{type:"number",placeholder:"请输入操作人手机号",clearable:""},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.getloglist(1)}},model:{value:e.term.username,callback:function(t){e.$set(e.term,"username",t)},expression:"term.username"}}),e._v(" "),a("el-select",{attrs:{clearable:"",filterable:"",placeholder:"请选择类型"},model:{value:e.term.type,callback:function(t){e.$set(e.term,"type",t)},expression:"term.type"}},e._l(e.types,function(e){return a("el-option",{key:e.id,attrs:{label:e.label,value:e.id}})}),1),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.getloglist(1)}}},[e._v("搜索")])],1)]),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:e.loglist,height:this.$store.state.tableHeight,border:"","element-loading-background":"rgba(0, 0, 0, 0.5)","element-loading-text":"数据正在加载中"}},[a("el-table-column",{attrs:{prop:"hotelName",align:"center",label:"酒店名称"}}),e._v(" "),a("el-table-column",{attrs:{prop:"roomNo",align:"center",label:"房间号"}}),e._v(" "),a("el-table-column",{attrs:{prop:"equipNo",align:"center",label:"设备号"}}),e._v(" "),a("el-table-column",{attrs:{prop:"channelNo",align:"center",label:"货道号"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",label:"类型"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e._f("fitertype")(t.row.type)))]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"center",label:"状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e._f("fiterstatus")(t.row.status)))]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"createTime",align:"center",label:"操作时间"}}),e._v(" "),a("el-table-column",{attrs:{prop:"trueName",align:"center",label:"操作人"}}),e._v(" "),a("el-table-column",{attrs:{prop:"username",align:"center",label:"联系电话"}})],1),e._v(" "),a("span",{staticClass:"pagein"},[a("el-pagination",{attrs:{layout:"total, sizes, prev, pager, next, jumper","page-sizes":[15,30,50,100],"page-size":15,total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)},staticRenderFns:[]};var lt=a("VU/8")({name:"operation_log",data:function(){return{pageNum:1,pageSize:15,total:0,loading:!1,loglist:[],term:{equipNo:"",username:"",trueName:"",type:""},types:[{id:1,label:"开门"},{id:0,label:"初次补货"}]}},filters:{fiterstatus:function(e){return 1==e?"成功":2==e?"失败":3==e?"离线":4==e?"异常":6==e?"已开":void 0},fitertype:function(e){return 1==e?"开门":0==e?"初次补货":void 0}},methods:{getloglist:function(e){var t=this;1==e&&(this.pageNum=1);var a="/operationLog?pageNum="+this.pageNum+"&pageSize="+this.pageSize;for(var l in this.term)(this.term[l]||"0"==this.term[l])&&(a+="&"+l+"="+this.term[l]);this.loading=!0,this.$http.get(a).then(function(e){t.loading=!1,t.loglist=e.data.data,t.total=e.data.total})},handleCurrentChange:function(e){this.pageNum=e,this.getloglist()},handleSizeChange:function(e){this.pageSize=e,this.getloglist()}},created:function(){this.getloglist()}},at,!1,function(e){a("Gf7y")},null,null).exports,rt={name:"operation_log",data:function(){return{pageNum:1,pageSize:15,total:0,loading:!1,superloglist:[]}},filters:{fiterstatus:function(e){return 1==e?"成功":2==e?"失败":3==e?"离线":4==e?"异常":6==e?"已开":void 0}},methods:{getsuperloglist:function(){var e=this,t="superLog?pageNum="+this.pageNum+"&pageSize="+this.pageSize;this.loading=!0,this.$http.get(t).then(function(t){e.loading=!1,200==t.status&&(e.superloglist=t.data.data,e.total=t.data.total),console.log("res:",t)})},handleCurrentChange:function(e){this.pageNum=e,this.getsuperloglist()},handleSizeChange:function(e){this.pageSize=e,this.getsuperloglist()}},created:function(){this.getsuperloglist()}},it={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"superLog mainboss"},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:e.superloglist,height:this.$store.state.tableHeight2,border:"","element-loading-background":"rgba(0, 0, 0, 0.5)","element-loading-text":"数据正在加载中"}},[a("el-table-column",{attrs:{prop:"equipNo",align:"center",label:"设备号"}}),e._v(" "),a("el-table-column",{attrs:{prop:"channelNo",align:"center",label:"货道号"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",label:"状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e._f("fiterstatus")(t.row.status)))]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"createTime",align:"center",label:"操作时间"}}),e._v(" "),a("el-table-column",{attrs:{prop:"trueName",align:"center",label:"操作人"}})],1),e._v(" "),a("span",{staticClass:"pagein"},[a("el-pagination",{attrs:{layout:"total, sizes, prev, pager, next, jumper","page-sizes":[15,30,50,100],"page-size":15,total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)},staticRenderFns:[]},nt=a("VU/8")(rt,it,!1,null,null,null).exports;l.default.use(s.a);var st=new s.a({routes:[{path:"/",name:"Login",component:c},{path:"/Home",name:"Home",component:h,children:[{path:"/",component:p.default},{path:"/role/list",component:v},{path:"/permission/list",component:y},{path:"/user/list",component:x},{path:"/hotel/area/list",component:V},{path:"/goods/list",component:R},{path:"/goods/store/list",component:K},{path:"/goods/storelog/list",component:X},{path:"/goods/supplier/list",component:ee},{path:"/goods/equip/list",component:se},{path:"/goods/equip/FirstEquipList",component:ce},{path:"/hotel/room/list",component:pe},{path:"/hotel/list",component:_e},{path:"/order/stock/list",component:ke},{path:"/apply/replenish/list",component:xe},{path:"/order/door",component:Ae},{path:"/order/goods/queryOrderSummary",component:$e},{path:"/order/supply/list",component:Ve},{path:"/order/stock/goods",component:Se},{path:"/order/goods/list",component:Ee},{path:"/activity/getActivityList",component:Oe},{path:"/apply/list",component:Pe},{path:"/apply/part",component:Me},{path:"/apply/log",component:Ze},{path:"/apply/warning",component:We},{path:"/operation/list",component:Qe},{path:"/operation/part",component:tt},{path:"/operation/log",component:lt},{path:"/operation/superLog",component:nt}]}]}),ot=a("NYxO");l.default.use(ot.a);var ut=new ot.a.Store({state:{token:"",userInfo:{},shopInfo:{},clientHeight:"",tableHeight2:"",mainHeight:"",tableHeight:""},mutations:{setToken:function(e,t){e.token=t},setUserInfo:function(e,t){e.userInfo=t},setshopInfo:function(e,t){e.shopInfo=t},setClientHeight:function(e,t){e.clientHeight=t},setMainHeight:function(e,t){e.mainHeight=t},setTableHeight:function(e,t){e.tableHeight=t},setTableHeight2:function(e,t){e.tableHeight2=t}}}),ct=a("mtWM"),mt=a.n(ct),dt=a("mw3O"),ht=a.n(dt),pt=a("zL8q"),gt=a.n(pt),ft=(a("tvR6"),a("991W"),a("//Fk")),vt=a.n(ft);a("hKoQ").polyfill();var bt=mt.a.create({baseURL:"http://dev.byn-kj.com/",timeout:1e4});bt.interceptors.request.use(function(e){return"post"===e.method||"put"===e.method?e.headers={"Content-Type":"application/json"}:e.headers={"Content-Type":"application/json;charset=UTF-8"},localStorage.getItem("TOKEN")&&(e.headers.Authorization=localStorage.getItem("TOKEN")),e},function(e){return alert("错误的传参","fail"),vt.a.reject(e)}),bt.interceptors.response.use(function(e){if(200==e.status)return e},function(e){if(401===e.response.status||403===e.response.status)Object(pt.Message)({duration:5e3,showClose:!0,message:e.response.data,type:"error"}),st.push({name:"Login"});else if(400===e.response.status)Object(pt.Message)({duration:5e3,showClose:!0,message:e.response.data,type:"error"});else{if(500!==e.response.status)return Object(pt.Message)({duration:5e3,showClose:!0,message:e.response.data,type:"error"}),e;Object(pt.Message)({duration:5e3,showClose:!0,message:"系统异常，稍后重试",type:"error"})}});var _t={install:function(e){Object.defineProperty(e.prototype,"$http",{value:bt})}},yt={API:"http://dev.byn-kj.com",qrAPI:"http://dev.byn-kj.com/mobile/index/"},kt=a("G0J2"),Ft=a.n(kt);a("3f40"),a("4qOc"),a("+cgv");l.default.use(gt.a),l.default.use(_t),l.default.prototype.$GLOBAL=yt,l.default.use(Ft.a),l.default.config.productionTip=!1,l.default.prototype.$store=ut,l.default.prototype.$axios=mt.a,l.default.prototype.qs=ht.a,new l.default({el:"#app",router:st,components:{App:n},template:"<App/>"})},UFtW:function(e,t){},UZn7:function(e,t){},Xp0D:function(e,t){},ZlNR:function(e,t,a){"use strict";var l={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"welcome"},[t("img",{attrs:{src:a("9bx5"),alt:""}})])}]};t.a=l},aDtE:function(e,t){},aQTf:function(e,t){},c9PK:function(e,t){},dBfS:function(e,t){},fOoy:function(e,t){},fjSb:function(e,t){},fpPY:function(e,t){},gaG5:function(e,t){},hpgx:function(e,t,a){"use strict";var l=a("2YW8"),r=a.n(l),i=a("ZlNR");var n=function(e){a("0Npw")},s=a("VU/8")(r.a,i.a,!1,n,null,null);t.default=s.exports},i9VA:function(e,t){},iQH9:function(e,t){e.exports="data:image/png;base64,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"},ia63:function(e,t){},l8ny:function(e,t){},"lro+":function(e,t){},ppEr:function(e,t){},tvR6:function(e,t){},vF8b:function(e,t,a){e.exports=a.p+"static/img/login_bj.6a502e3.jpg"},wKWe:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.c0600832cb2d23d3a328.js.map